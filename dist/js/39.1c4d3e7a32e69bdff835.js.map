{"version":3,"sources":["webpack:///js/39.1c4d3e7a32e69bdff835.js","webpack:///./src/views/infoDataMana/cusContractNew.vue?16e4","webpack:///src/views/infoDataMana/cusContractNew.vue","webpack:///./src/views/infoDataMana/cusContractNew.vue?2261","webpack:///./src/views/infoDataMana/cusContractNew.vue?0d58","webpack:///./src/views/infoDataMana/cusContractNew.vue"],"names":["webpackJsonp","2lw3","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","c","i","key","_v","_s","pageTitle","class","page_d_con_left_widthAll","isRightBox","ref","attrs","model","contract_from","label-width","label","placeholder","disabled","isabled","on","change","$event","cusSelect","value","callback","$$v","$set","expression","options","item","index","customerCode","customerName","checkFrom","id","val","staticStyle","height","position","placeHolder","clearable","value-key","proSelect","model_value","productId","productName","_e","left","click","addRow","type","align","format","picker-options","$store","state","pickerOptions2","dateChange","dateValue","onSubmit","go_back","staticRenderFns","esExports","7iIP","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default","data","menu_nav","beginTime","contractNo","platformCode","endTime","isOwner","kyhdType","marketingMode","productItems","customer","kyhd","product","items","customerContractId","created","customerSelect","methods","_this","$http","method","url","apiUrl","fdpCusGetCustomerList","params","offset","limit","then","res","status","catch","error","console","log","proInfo","_this2","fdpProListall","platformId","map","length","forEach","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","err","return","obj","push","productNo","a","year","Math","ceil","datedifference","beginT","replace","proCode","_this3","fdpConNewCustomer","splice","$message","message","$router","back","date","formatDateTime","Ym1q","exports","version","sources","names","mappings","file","sourceRoot","k3Yb","content","locals","ynYy","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_cusContractNew_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_ece66122_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_cusContractNew_vue__","normalizeComponent","__vue_styles__","Component"],"mappings":"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","file":"js/39.1c4d3e7a32e69bdff835.js","sourcesContent":["webpackJsonp([39],{\n\n/***/ \"2lw3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"page_create customerContractNew\"},[_c('div',{staticClass:\"menuNav\"},[_c('p',[_c('i',{staticClass:\"nav_index\"}),_vm._l((_vm.menu_nav),function(c,i){return _c('span',{key:i},[_c('i',{staticClass:\"el-icon-arrow-right\"}),_c('em',[_vm._v(_vm._s(c))])])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"page_d_title\"},[_c('i'),_c('span',[_vm._v(_vm._s(_vm.pageTitle))])]),_vm._v(\" \"),_c('div',{staticClass:\"page_d_con\"},[_c('div',{staticClass:\"page_d_con_left cpa_page_left\",class:{page_d_con_left_widthAll:!_vm.isRightBox}},[_c('div',{staticClass:\"banner_part_line page_create_set_line\"},[_vm._v(\"合同信息\")]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.contract_from,\"label-width\":\"125px\"}},[_c('el-form-item',{attrs:{\"label\":\"客户主体：\"}},[_c('el-select',{staticClass:\"f_select1 inlineBlock\",attrs:{\"placeholder\":\"请选择\",\"disabled\":_vm.isabled},on:{\"change\":function($event){_vm.cusSelect()}},model:{value:(_vm.contract_from.customerCode),callback:function ($$v) {_vm.$set(_vm.contract_from, \"customerCode\", $$v)},expression:\"contract_from.customerCode\"}},_vm._l((_vm.options.customer),function(item,index){return _c('el-option',{key:item.customerCode,attrs:{\"label\":item.customerName,\"value\":item.customerCode}})})),_vm._v(\" \"),_c('el-radio-group',{staticClass:\"f_radio1 inlineBlock\",on:{\"change\":_vm.checkFrom},model:{value:(_vm.contract_from.isOwner),callback:function ($$v) {_vm.$set(_vm.contract_from, \"isOwner\", $$v)},expression:\"contract_from.isOwner\"}},[_c('el-radio',{attrs:{\"label\":2,\"disabled\":_vm.isabled}},[_vm._v(\"甲方\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"我方主体：\"}},[_c('el-select',{staticClass:\"f_select1 inlineBlock\",attrs:{\"placeholder\":\"请选择\",\"disabled\":_vm.isabled},on:{\"change\":_vm.checkFrom},model:{value:(_vm.contract_from.kyhdType),callback:function ($$v) {_vm.$set(_vm.contract_from, \"kyhdType\", $$v)},expression:\"contract_from.kyhdType\"}},_vm._l((_vm.options.kyhd),function(item,index){return _c('el-option',{key:item.id,attrs:{\"label\":item.val,\"value\":item.id}})})),_vm._v(\" \"),_c('el-radio-group',{staticClass:\"f_radio1 inlineBlock\",on:{\"change\":_vm.checkFrom},model:{value:(_vm.contract_from.isOwner),callback:function ($$v) {_vm.$set(_vm.contract_from, \"isOwner\", $$v)},expression:\"contract_from.isOwner\"}},[_c('el-radio',{attrs:{\"label\":1,\"disabled\":_vm.isabled}},[_vm._v(\"甲方\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"height\":\"auto\",\"position\":\"relative\"},attrs:{\"label\":\"客户产品：\"}},[_vm._l((_vm.options.product),function(item,index){return _c('el-form-item',{key:index},[_c('el-select',{staticClass:\"f_select1 inlineBlock\",attrs:{\"placeholder\":item.placeHolder,\"clearable\":\"\",\"value-key\":\"productId\",\"disabled\":_vm.isabled},on:{\"change\":function($event){_vm.proSelect(index,item.model_value)}},model:{value:(item.model_value),callback:function ($$v) {_vm.$set(item, \"model_value\", $$v)},expression:\"item.model_value\"}},_vm._l((item.items),function(c,i){return _c('el-option',{key:c.productId,attrs:{\"label\":c.productName,\"value\":c}})}))],1)}),_vm._v(\" \"),(!_vm.isabled)?_c('div',{staticClass:\"addRow\",staticStyle:{\"left\":\"225px\"}},[_c('el-button',{on:{\"click\":_vm.addRow}},[_vm._v(\"添加一行\")])],1):_vm._e()],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"合同有效日期：\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"align\":\"right\",\"placeholder\":\"选择日期范围\",\"format\":\"yyyy/MM/dd\",\"picker-options\":_vm.$store.state.pickerOptions2,\"disabled\":_vm.isabled},on:{\"change\":_vm.dateChange},model:{value:(_vm.dateValue),callback:function ($$v) {_vm.dateValue=$$v},expression:\"dateValue\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"合同编号：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入合同编号\",\"disabled\":\"\"},model:{value:(_vm.contract_from.contractNo),callback:function ($$v) {_vm.$set(_vm.contract_from, \"contractNo\", $$v)},expression:\"contract_from.contractNo\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"form_button\"},[(!_vm.isabled)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"确认\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.go_back()}}},[_vm._v(\"返回\")])],1)],1)],1)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"7iIP\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"aA9S\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__ = __webpack_require__(\"hRKE\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__ = __webpack_require__(\"HzJ8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__);\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    data: function data() {\n        return {\n            isRightBox: false,\n            isabled: false,\n            menu_nav: ['信息流数据管理', '客户合同管理', '创建合同信息'],\n            dateValue: '',\n            contract_from: {\n                beginTime: '',\n                contractNo: '',\n                customerCode: '',\n                platformCode: '',\n                endTime: '',\n                id: 0,\n                isOwner: 1,\n                kyhdType: '',\n                marketingMode: 'XN',\n                productItems: []\n            },\n            options: {\n                customer: [],\n                kyhd: [{\n                    id: 'Y1',\n                    val: '深圳康远互动科技有限公司'\n                }, {\n                    id: 'Y2',\n                    val: '霍尔果斯康远互动网络科技有限公司'\n                }, {\n                    id: 'Y3',\n                    val: '上海贝玩网络科技有限公司'\n                }, {\n                    id: 'Y4',\n                    val: '深圳自由泰格互动科技有限公司'\n                }],\n                product: [{\n                    placeHolder: '请选择',\n                    model_value: {},\n                    items: []\n                }]\n            },\n            customerContractId: '',\n            pageTitle: '创建合同信息'\n        };\n    },\n    created: function created() {\n        this.customerSelect();\n    },\n\n    methods: {\n        customerSelect: function customerSelect() {\n            var _this = this;\n\n            /*客户*/\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.fdpCusGetCustomerList,\n                params: {\n                    offset: 1,\n                    limit: 9999,\n                    val: ''\n                }\n            }).then(function (res) {\n                if (res.status == 200) {\n                    var data = res.data;\n                    _this.options.customer = data;\n                } else {}\n            }).catch(function (error) {\n                console.log(error);\n            });\n        },\n        proInfo: function proInfo() {\n            var _this2 = this;\n\n            /*产品*/\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.fdpProListall,\n                params: { customerCode: this.contract_from.customerCode,\n                    platformId: -1 }\n            }).then(function (res) {\n                if (res.status == 200) {\n                    var data = res.data;\n                    _this2.options.product = _this2.options.product.map(function (item, i) {\n                        return { placeHolder: '请选择', model_value: '', items: data };\n                    });\n                    for (var i = 1; i < _this2.contract_from.productItems.length; i++) {\n                        _this2.addRow();\n                    }\n                    if (_this2.customerContractId == '') {\n                        _this2.contract_from.productItems = [];\n                    } else {\n                        _this2.options.product.forEach(function (item, i) {\n                            var _iteratorNormalCompletion = true;\n                            var _didIteratorError = false;\n                            var _iteratorError = undefined;\n\n                            try {\n                                for (var _iterator = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default()(item.items), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                                    var items = _step.value;\n\n                                    if (items.id == _this2.contract_from.productItems[i].id) {\n                                        item.model_value = items;\n                                    }\n                                }\n                            } catch (err) {\n                                _didIteratorError = true;\n                                _iteratorError = err;\n                            } finally {\n                                try {\n                                    if (!_iteratorNormalCompletion && _iterator.return) {\n                                        _iterator.return();\n                                    }\n                                } finally {\n                                    if (_didIteratorError) {\n                                        throw _iteratorError;\n                                    }\n                                }\n                            }\n                        });\n                    }\n                } else {}\n            }).catch(function (error) {\n                console.log(error);\n            });\n        },\n        cusSelect: function cusSelect() {\n            this.proInfo();\n        },\n        proSelect: function proSelect(index, obj) {\n            this.options.product.model_value = obj;\n            if ((typeof obj === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(obj)) == 'object' && obj != '') {\n                if (!this.contract_from.productItems[index]) {\n                    this.contract_from.productItems.push({ id: '', productNo: '' });\n                }\n                this.contract_from.productItems[index].id = obj.productId;\n                this.contract_from.productItems[index].productNo = obj.productId;\n            }\n            if (obj == '') {\n                if (!this.contract_from.productItems[index]) {\n                    this.contract_from.productItems.push({ id: '', productNo: '' });\n                }\n                this.contract_from.productItems[index].id = '';\n                this.contract_from.productItems[index].productNo = '';\n            }\n            this.checkFrom();\n        },\n        addRow: function addRow() {\n            if (this.options.product.model_value != '' && this.options.product.model_value != undefined) {\n                var a = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, this.options.product[0]);\n                this.options.product.push(a);\n            }\n        },\n        checkFrom: function checkFrom() {\n            var obj = this.contract_from;\n            if (obj.customerCode != '' && obj.kyhdType != '' && obj.productItems.length > 0 && obj.beginTime != '') {\n                var year = Math.ceil(this.datedifference(obj.beginTime, obj.endTime) / 365);\n                var beginT = obj.beginTime.replace(/-/g, '');\n                var proCode = obj.productItems[0].productNo;\n                if (obj.isOwner == 1) {\n                    this.contract_from.contractNo = obj.kyhdType + obj.customerCode + proCode + 'XN' + beginT + year;\n                } else if (this.contract_from.isOwner == 2) {\n                    this.contract_from.contractNo = obj.customerCode + obj.kyhdType + proCode + 'XN' + beginT + year;\n                }\n            } else {\n                //                    console.log(false);\n                this.contract_from.contractNo = '';\n            }\n        },\n        onSubmit: function onSubmit() {\n            var _this3 = this;\n\n            var obj = this.contract_from;\n            var url = this.apiUrl.fdpConNewCustomer;\n            for (var i = 0; i < obj.productItems.length; i++) {\n                if (obj.productItems[i].productNo == '') {\n                    obj.productItems.splice(i, 1);\n                    i--;\n                }\n            }\n            if (obj.customerCode != '' && obj.kyhdType != '' && obj.productItems.length > 0 && obj.beginTime != '') {\n                this.$http({\n                    method: 'post',\n                    url: url,\n                    data: this.contract_from\n                }).then(function (res) {\n                    var data = res.data;\n                    if (res.status == 200) {\n                        _this3.$message({\n                            type: 'success',\n                            message: '操作成功'\n                        });\n                        _this3.go_back();\n                    } else {\n                        _this3.$message({\n                            type: 'error',\n                            message: '操作失败，请完善信息，并重新提交'\n                        });\n                    }\n                }).catch(function (error) {\n                    _this3.$message({\n                        type: 'error',\n                        message: '操作失败，请完善信息，并重新提交'\n                    });\n                });\n            } else {\n                this.$message({\n                    type: 'error',\n                    message: '操作失败，请完善信息，并重新提交'\n                });\n            }\n        },\n        go_back: function go_back() {\n            this.$router.back();\n        },\n        dateChange: function dateChange() {\n            var date = this.dateValue;\n            if (date.length > 0) {\n                this.contract_from.beginTime = this.formatDateTime(date[0], 'y-m-d');\n                this.contract_from.endTime = this.formatDateTime(date[1], 'y-m-d');\n            }\n            this.checkFrom();\n        }\n    }\n});\n\n/***/ }),\n\n/***/ \"Ym1q\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"UTlt\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"cusContractNew.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"k3Yb\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"Ym1q\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"FIqI\")(\"4578b930\", content, true, {});\n\n/***/ }),\n\n/***/ \"ynYy\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_cusContractNew_vue__ = __webpack_require__(\"7iIP\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_ece66122_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_cusContractNew_vue__ = __webpack_require__(\"2lw3\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"k3Yb\")\n}\nvar normalizeComponent = __webpack_require__(\"vSla\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_cusContractNew_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_ece66122_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_cusContractNew_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/39.1c4d3e7a32e69bdff835.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"page_create customerContractNew\"},[_c('div',{staticClass:\"menuNav\"},[_c('p',[_c('i',{staticClass:\"nav_index\"}),_vm._l((_vm.menu_nav),function(c,i){return _c('span',{key:i},[_c('i',{staticClass:\"el-icon-arrow-right\"}),_c('em',[_vm._v(_vm._s(c))])])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"page_d_title\"},[_c('i'),_c('span',[_vm._v(_vm._s(_vm.pageTitle))])]),_vm._v(\" \"),_c('div',{staticClass:\"page_d_con\"},[_c('div',{staticClass:\"page_d_con_left cpa_page_left\",class:{page_d_con_left_widthAll:!_vm.isRightBox}},[_c('div',{staticClass:\"banner_part_line page_create_set_line\"},[_vm._v(\"合同信息\")]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.contract_from,\"label-width\":\"125px\"}},[_c('el-form-item',{attrs:{\"label\":\"客户主体：\"}},[_c('el-select',{staticClass:\"f_select1 inlineBlock\",attrs:{\"placeholder\":\"请选择\",\"disabled\":_vm.isabled},on:{\"change\":function($event){_vm.cusSelect()}},model:{value:(_vm.contract_from.customerCode),callback:function ($$v) {_vm.$set(_vm.contract_from, \"customerCode\", $$v)},expression:\"contract_from.customerCode\"}},_vm._l((_vm.options.customer),function(item,index){return _c('el-option',{key:item.customerCode,attrs:{\"label\":item.customerName,\"value\":item.customerCode}})})),_vm._v(\" \"),_c('el-radio-group',{staticClass:\"f_radio1 inlineBlock\",on:{\"change\":_vm.checkFrom},model:{value:(_vm.contract_from.isOwner),callback:function ($$v) {_vm.$set(_vm.contract_from, \"isOwner\", $$v)},expression:\"contract_from.isOwner\"}},[_c('el-radio',{attrs:{\"label\":2,\"disabled\":_vm.isabled}},[_vm._v(\"甲方\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"我方主体：\"}},[_c('el-select',{staticClass:\"f_select1 inlineBlock\",attrs:{\"placeholder\":\"请选择\",\"disabled\":_vm.isabled},on:{\"change\":_vm.checkFrom},model:{value:(_vm.contract_from.kyhdType),callback:function ($$v) {_vm.$set(_vm.contract_from, \"kyhdType\", $$v)},expression:\"contract_from.kyhdType\"}},_vm._l((_vm.options.kyhd),function(item,index){return _c('el-option',{key:item.id,attrs:{\"label\":item.val,\"value\":item.id}})})),_vm._v(\" \"),_c('el-radio-group',{staticClass:\"f_radio1 inlineBlock\",on:{\"change\":_vm.checkFrom},model:{value:(_vm.contract_from.isOwner),callback:function ($$v) {_vm.$set(_vm.contract_from, \"isOwner\", $$v)},expression:\"contract_from.isOwner\"}},[_c('el-radio',{attrs:{\"label\":1,\"disabled\":_vm.isabled}},[_vm._v(\"甲方\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"height\":\"auto\",\"position\":\"relative\"},attrs:{\"label\":\"客户产品：\"}},[_vm._l((_vm.options.product),function(item,index){return _c('el-form-item',{key:index},[_c('el-select',{staticClass:\"f_select1 inlineBlock\",attrs:{\"placeholder\":item.placeHolder,\"clearable\":\"\",\"value-key\":\"productId\",\"disabled\":_vm.isabled},on:{\"change\":function($event){_vm.proSelect(index,item.model_value)}},model:{value:(item.model_value),callback:function ($$v) {_vm.$set(item, \"model_value\", $$v)},expression:\"item.model_value\"}},_vm._l((item.items),function(c,i){return _c('el-option',{key:c.productId,attrs:{\"label\":c.productName,\"value\":c}})}))],1)}),_vm._v(\" \"),(!_vm.isabled)?_c('div',{staticClass:\"addRow\",staticStyle:{\"left\":\"225px\"}},[_c('el-button',{on:{\"click\":_vm.addRow}},[_vm._v(\"添加一行\")])],1):_vm._e()],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"合同有效日期：\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"align\":\"right\",\"placeholder\":\"选择日期范围\",\"format\":\"yyyy/MM/dd\",\"picker-options\":_vm.$store.state.pickerOptions2,\"disabled\":_vm.isabled},on:{\"change\":_vm.dateChange},model:{value:(_vm.dateValue),callback:function ($$v) {_vm.dateValue=$$v},expression:\"dateValue\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"合同编号：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入合同编号\",\"disabled\":\"\"},model:{value:(_vm.contract_from.contractNo),callback:function ($$v) {_vm.$set(_vm.contract_from, \"contractNo\", $$v)},expression:\"contract_from.contractNo\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"form_button\"},[(!_vm.isabled)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"确认\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.go_back()}}},[_vm._v(\"返回\")])],1)],1)],1)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-ece66122\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/infoDataMana/cusContractNew.vue\n// module id = 2lw3\n// module chunks = 39","\n<style rel=\"stylesheet/scss\" lang=\"scss\">\n\n</style>\n\n<template>\n    <div>\n        <div class=\"page_create customerContractNew\">\n            <div class=\"menuNav\">\n                <p><i class=\"nav_index\"></i><span v-for=\"(c, i) in menu_nav\" :key=\"i\"><i\n                    class=\"el-icon-arrow-right\"></i><em>{{c}}</em></span></p>\n            </div>\n            <div class=\"page_d_title\">\n                <i></i><span>{{pageTitle}}</span>\n            </div>\n            <div class=\"page_d_con\">\n                <div class=\"page_d_con_left cpa_page_left\" :class=\"{page_d_con_left_widthAll:!isRightBox}\">\n                    <div class=\"banner_part_line page_create_set_line\">合同信息</div>\n                    <el-form ref=\"form\" :model=\"contract_from\" label-width=\"125px\">\n                        <el-form-item label=\"客户主体：\">\n                            <el-select v-model=\"contract_from.customerCode\"  placeholder=\"请选择\"\n                                       class=\"f_select1 inlineBlock\"\n                                       @change=\"cusSelect()\"\n                                       :disabled=\"isabled\">\n                                <el-option\n                                    v-for=\"(item,index) in options.customer\"\n                                    :key=\"item.customerCode\"\n                                    :label=\"item.customerName\"\n                                    :value=\"item.customerCode\">\n                                </el-option>\n                            </el-select>\n                            <el-radio-group v-model=\"contract_from.isOwner\" class=\"f_radio1 inlineBlock\" @change=\"checkFrom\">\n                                <el-radio :label=\"2\" :disabled=\"isabled\">甲方</el-radio>\n                            </el-radio-group>\n                        </el-form-item>\n                        <el-form-item label=\"我方主体：\">\n                            <el-select v-model=\"contract_from.kyhdType\" placeholder=\"请选择\" class=\"f_select1 inlineBlock\"\n                                       @change=\"checkFrom\" :disabled=\"isabled\">\n                                <el-option\n                                    v-for=\"(item,index) in options.kyhd\"\n                                    :key=\"item.id\"\n                                    :label=\"item.val\"\n                                    :value=\"item.id\">\n                                </el-option>\n                            </el-select>\n                            <el-radio-group v-model=\"contract_from.isOwner\" class=\"f_radio1 inlineBlock\" @change=\"checkFrom\">\n                                <el-radio :label=\"1\" :disabled=\"isabled\">甲方</el-radio>\n                            </el-radio-group>\n                        </el-form-item>\n                        <el-form-item label=\"客户产品：\" style=\"height:auto;position:relative;\">\n                            <el-form-item v-for=\"(item,index) in options.product\" :key=\"index\">\n                                <el-select v-model=\"item.model_value\" :placeholder=\"item.placeHolder\"\n                                           class=\"f_select1 inlineBlock\"\n                                           clearable\n                                           @change=\"proSelect(index,item.model_value)\" value-key=\"productId\" :disabled=\"isabled\">\n                                    <el-option\n                                        v-for=\"(c,i) in item.items\"\n                                        :key=\"c.productId\"\n                                        :label=\"c.productName\"\n                                        :value=\"c\">\n                                    </el-option>\n                                </el-select>\n                            </el-form-item>\n                            <div class=\"addRow\" style=\"left:225px;\" v-if=\"!isabled\">\n                                <el-button @click=\"addRow\" style=\"\">添加一行</el-button>\n                            </div>\n                        </el-form-item>\n                        <el-form-item label=\"合同有效日期：\">\n                            <el-date-picker\n                                v-model=\"dateValue\"\n                                type=\"daterange\"\n                                align=\"right\"\n                                placeholder=\"选择日期范围\"\n                                format=\"yyyy/MM/dd\"\n                                @change=\"dateChange\"\n                                :picker-options=\"$store.state.pickerOptions2\"\n                                :disabled=\"isabled\">\n                            </el-date-picker>\n                        </el-form-item>\n                        <el-form-item label=\"合同编号：\">\n                            <el-input v-model=\"contract_from.contractNo\" class=\"\" placeholder=\"请输入合同编号\"\n                                      disabled></el-input>\n                        </el-form-item>\n\n                        <el-form-item class=\"form_button\">\n                            <el-button type=\"primary\" @click=\"onSubmit\" v-if=\"!isabled\">确认</el-button>\n                            <el-button @click=\"go_back()\">返回</el-button>\n                        </el-form-item>\n                    </el-form>\n                </div><!--\n\t\t\t\t-->\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    data () {\n        return {\n            isRightBox: false,\n            isabled: false,\n            menu_nav: ['信息流数据管理', '客户合同管理', '创建合同信息'],\n            dateValue: '',\n            contract_from: {\n                beginTime: '',\n                contractNo: '',\n                customerCode: '',\n                platformCode: '',\n                endTime: '',\n                id: 0,\n                isOwner: 1,\n                kyhdType: '',\n                marketingMode: 'XN',\n                productItems: [\n\n                ]\n            },\n            options: {\n                customer: [],\n                kyhd: [\n                    {\n                        id: 'Y1',\n                        val: '深圳康远互动科技有限公司'\n                    },\n                    {\n                        id: 'Y2',\n                        val: '霍尔果斯康远互动网络科技有限公司'\n                    },\n                    {\n                        id: 'Y3',\n                        val: '上海贝玩网络科技有限公司'\n                    },\n                    {\n                        id: 'Y4',\n                        val: '深圳自由泰格互动科技有限公司'\n                    },\n                ],\n                product: [\n                    {\n                        placeHolder: '请选择',\n                        model_value: {},\n                        items: []\n                    }\n                ]\n            },\n            customerContractId: '',\n            pageTitle: '创建合同信息',\n        };\n    },\n    created () {\n        this.customerSelect();\n    },\n    methods: {\n        customerSelect () {\n            /*客户*/\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.fdpCusGetCustomerList,\n                params: {\n                    offset: 1,\n                    limit: 9999,\n                    val: '',\n                }\n            }).then(res => {\n                if (res.status == 200) {\n                    var data = res.data;\n                    this.options.customer = data;\n                } else {\n                }\n            }).catch(error => {\n                console.log(error);\n            });\n        },\n        proInfo () {\n            /*产品*/\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.fdpProListall,\n                params: {                    customerCode: this.contract_from.customerCode,\n                    platformId: -1,                }\n            }).then(res => {\n                if (res.status == 200) {\n                    var data = res.data;\n                    this.options.product = this.options.product.map((item, i) => {\n                        return { placeHolder: '请选择', model_value: '', items: data };\n                    });\n                    for (let i = 1; i < this.contract_from.productItems.length; i++) {\n                        this.addRow();\n                    }\n                    if (this.customerContractId == '') {\n                        this.contract_from.productItems = [];\n                    } else {\n                        this.options.product.forEach((item, i) => {\n                            for (let items of item.items) {\n                                if (items.id == this.contract_from.productItems[i].id) {\n                                    item.model_value = items;\n                                }\n                            }\n                        });\n                    }\n                } else {\n                }\n            }).catch(error => {\n                console.log(error);\n            });\n        },\n        cusSelect () {\n            this.proInfo();\n        },\n        proSelect (index, obj) {\n            this.options.product.model_value = obj;\n            if (typeof obj == 'object' && obj != '') {\n                if (!this.contract_from.productItems[index]) {\n                    this.contract_from.productItems.push({ id: '', productNo: '' });\n                }\n                this.contract_from.productItems[index].id = obj.productId;\n                this.contract_from.productItems[index].productNo = obj.productId;\n            }\n            if (obj == '') {\n                if (!this.contract_from.productItems[index]) {\n                    this.contract_from.productItems.push({ id: '', productNo: '' });\n                }\n                this.contract_from.productItems[index].id = '';\n                this.contract_from.productItems[index].productNo = '';\n            }\n            this.checkFrom();\n        },\n        addRow () {\n            if (this.options.product.model_value != '' && this.options.product.model_value != undefined) {\n                let a = Object.assign({}, this.options.product[0]);\n                this.options.product.push(a);\n            }\n        },\n        checkFrom () {\n            var obj = this.contract_from;\n            if (obj.customerCode != '' && obj.kyhdType != '' && obj.productItems.length > 0 && obj.beginTime != '') {\n                var year = Math.ceil(this.datedifference(obj.beginTime, obj.endTime) / 365);\n                var beginT = obj.beginTime.replace(/-/g, '');\n                var proCode = obj.productItems[0].productNo;\n                if (obj.isOwner == 1) {\n                    this.contract_from.contractNo = obj.kyhdType + obj.customerCode + proCode + 'XN' + beginT + year;\n                } else if (this.contract_from.isOwner == 2) {\n                    this.contract_from.contractNo = obj.customerCode + obj.kyhdType + proCode + 'XN' + beginT + year;\n                }\n            } else {\n                //                    console.log(false);\n                this.contract_from.contractNo = '';\n            }\n        },\n        onSubmit () {\n            var obj = this.contract_from;\n            var url = this.apiUrl.fdpConNewCustomer;\n            for(var i=0;i<obj.productItems.length;i++){\n                if(obj.productItems[i].productNo==''){\n                    obj.productItems.splice(i,1);\n                    i--;\n                }\n            }\n            if (obj.customerCode != '' && obj.kyhdType != '' && obj.productItems.length > 0 && obj.beginTime != '') {\n                this.$http({\n                    method: 'post',\n                    url: url,\n                    data: this.contract_from\n                }).then(res => {\n                    var data = res.data;\n                    if (res.status == 200) {\n                        this.$message({\n                            type: 'success',\n                            message: '操作成功'\n                        });\n                        this.go_back();\n                    } else {\n                        this.$message({\n                            type: 'error',\n                            message: '操作失败，请完善信息，并重新提交'\n                        });\n                    }\n                }).catch(error => {\n                    this.$message({\n                        type: 'error',\n                        message: '操作失败，请完善信息，并重新提交'\n                    });\n                });\n            } else {\n                this.$message({\n                    type: 'error',\n                    message: '操作失败，请完善信息，并重新提交'\n                });\n            }\n        },\n        go_back () {\n            this.$router.back();\n        },\n        dateChange () {\n            var date = this.dateValue;\n            if (date.length > 0) {\n                this.contract_from.beginTime = this.formatDateTime(date[0], 'y-m-d');\n                this.contract_from.endTime = this.formatDateTime(date[1], 'y-m-d');\n            }\n            this.checkFrom();\n        }\n    }\n};\n</script>\n\n\n// WEBPACK FOOTER //\n// src/views/infoDataMana/cusContractNew.vue","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"cusContractNew.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-ece66122\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/infoDataMana/cusContractNew.vue\n// module id = Ym1q\n// module chunks = 39","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ece66122\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./cusContractNew.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"4578b930\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-ece66122\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/infoDataMana/cusContractNew.vue\n// module id = k3Yb\n// module chunks = 39","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ece66122\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./cusContractNew.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./cusContractNew.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./cusContractNew.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ece66122\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./cusContractNew.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/infoDataMana/cusContractNew.vue\n// module id = ynYy\n// module chunks = 39"],"sourceRoot":""}