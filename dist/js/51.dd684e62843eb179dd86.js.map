{"version":3,"sources":["webpack:///js/51.dd684e62843eb179dd86.js","webpack:///./src/views/cpaDataMana/customerProNew.vue","webpack:///./src/views/cpaDataMana/customerProNew.vue?fe23","webpack:///./src/views/cpaDataMana/customerProNew.vue?c725","webpack:///./src/views/cpaDataMana/customerProNew.vue?a64c","webpack:///src/views/cpaDataMana/customerProNew.vue"],"names":["webpackJsonp","6uwo","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_customerProNew_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_62414842_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_customerProNew_vue__","normalizeComponent","__vue_styles__","Component","7rrL","exports","push","i","version","sources","names","mappings","file","sourceRoot","8lx0","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","c","key","_v","_s","pageTitle","class","page_d_con_left_widthAll","isRightBox","ref","attrs","model","pro_from","label-width","label","filterable","placeholder","disabled","dateStatus","on","change","cusSelect","callback","$$v","$set","expression","customer_items","item","index","customerCode","name","staticStyle","height","proStatus","_e","$event","pro_items","id","productName","customerProductCode","cooperativeMode_items","placeHolder","trim","channelPackstatus","action","apiUrl","uploadApk","with-credentials","on-success","handleSuccess","on-remove","handleRemove","beforeUpload","beforeAvatarUpload","onError","uploadError","file-list","fileList","size","type","slot","account","deleted","dateChange","priceInputChange","font-size","click","deletePrice","display","margin-left","color","addRow","onSubmit","go_back","o","staticRenderFns","esExports","V34k","content","locals","e59c","data","menu_nav","uploadButStatus","backendAccountId","cooperativeMode","kyProductChannelCode","packageLink","prices","date","disable","disexist","price","productChannelCode","productCode","options","model_value","adminSysAccounts","customerId","created","customerSelect","businessModel","$route","query","pageInfo","methods","_this","$http","method","url","customerSearch","params","offset","limit","val","then","res","status","items","catch","error","console","log","proInfo","_this2","customerProListLight","adminSysInfo","_this3","customerID","forEach","customerGet","map","splice","_this4","customerProListBiztype","lists","_this5","customerProGet","err","_this6","pricesArr","pricesLen","length","isexist","$message","message","_i","customerProNew","customerProUpdate","msg","$router","back","response","fileName","split","fileNameLen","extension","isLt2M","formatDateTime","Date","priceArr","obj","foreach","break","Error","e","flag","x"],"mappings":"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","file":"js/51.dd684e62843eb179dd86.js","sourcesContent":["webpackJsonp([51],{\n\n/***/ \"6uwo\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_customerProNew_vue__ = __webpack_require__(\"e59c\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_62414842_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_customerProNew_vue__ = __webpack_require__(\"8lx0\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"V34k\")\n}\nvar normalizeComponent = __webpack_require__(\"vSla\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_customerProNew_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_62414842_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_customerProNew_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"7rrL\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"UTlt\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"customerProNew.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"8lx0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"page_create customerProNew\"},[_c('div',{staticClass:\"menuNav\"},[_c('p',[_c('i',{staticClass:\"nav_index\"}),_vm._l((_vm.menu_nav),function(c,i){return _c('span',{key:i},[_c('i',{staticClass:\"el-icon-arrow-right\"}),_c('em',[_vm._v(_vm._s(c))])])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"page_d_title\"},[_c('i'),_c('span',[_vm._v(_vm._s(_vm.pageTitle))])]),_vm._v(\" \"),_c('div',{staticClass:\"page_d_con\"},[_c('div',{staticClass:\"page_d_con_left cpa_page_left\",class:{page_d_con_left_widthAll:!_vm.isRightBox}},[_c('div',{staticClass:\"banner_part_line page_create_set_line\"},[_vm._v(\"产品信息\")]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.pro_from,\"label-width\":\"125px\"}},[_c('el-form-item',{attrs:{\"label\":\"客户名称：\"}},[_c('el-select',{staticClass:\"f_select1\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\",\"disabled\":_vm.dateStatus,\"filterable\":\"\"},on:{\"change\":_vm.cusSelect},model:{value:(_vm.pro_from.customerCode),callback:function ($$v) {_vm.$set(_vm.pro_from, \"customerCode\", $$v)},expression:\"pro_from.customerCode\"}},_vm._l((_vm.customer_items.options),function(item,index){return _c('el-option',{key:item.customerCode,attrs:{\"label\":item.name,\"value\":item.customerCode}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"height\":\"auto\"},attrs:{\"label\":\"产品名称：\"}},[_c('el-radio-group',{staticClass:\"f_radio2 f_radio\",attrs:{\"disabled\":_vm.dateStatus},model:{value:(_vm.proStatus),callback:function ($$v) {_vm.proStatus=$$v},expression:\"proStatus\"}},[_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"新产品\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"选择已有产品\")])],1),_vm._v(\" \"),(_vm.proStatus==0)?_c('el-input',{staticClass:\"blockBox\",attrs:{\"placeholder\":\"请输入产品名称\",\"disabled\":_vm.dateStatus},model:{value:(_vm.pro_from.productName),callback:function ($$v) {_vm.$set(_vm.pro_from, \"productName\", $$v)},expression:\"pro_from.productName\"}}):_vm._e(),_vm._v(\" \"),(_vm.proStatus==1)?_c('el-select',{staticClass:\"f_select1 blockBox\",attrs:{\"placeholder\":\"请选择\",\"disabled\":_vm.dateStatus},on:{\"change\":function($event){}},model:{value:(_vm.pro_from.productCode),callback:function ($$v) {_vm.$set(_vm.pro_from, \"productCode\", $$v)},expression:\"pro_from.productCode\"}},_vm._l((_vm.pro_items.options),function(item,index){return _c('el-option',{key:item.id,attrs:{\"label\":item.productName,\"value\":item.customerProductCode}})})):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"业务类型：\"}},[_c('el-select',{staticClass:\"f_select1\",attrs:{\"placeholder\":_vm.cooperativeMode_items.placeHolder},on:{\"change\":function($event){}},model:{value:(_vm.pro_from.cooperativeMode),callback:function ($$v) {_vm.$set(_vm.pro_from, \"cooperativeMode\", $$v)},expression:\"pro_from.cooperativeMode\"}},_vm._l((_vm.cooperativeMode_items.options),function(item,index){return _c('el-option',{key:item.id,attrs:{\"label\":item.value,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上游渠道号：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入上游渠道号\"},model:{value:(_vm.pro_from.productChannelCode),callback:function ($$v) {_vm.$set(_vm.pro_from, \"productChannelCode\", $$v)},expression:\"pro_from.productChannelCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"康远渠道号：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入康远渠道号\"},model:{value:(_vm.pro_from.kyProductChannelCode),callback:function ($$v) {_vm.$set(_vm.pro_from, \"kyProductChannelCode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"pro_from.kyProductChannelCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"height\":\"auto\"},attrs:{\"label\":\"填充渠道包：\"}},[_c('el-radio-group',{staticClass:\"f_radio2 f_radio\",model:{value:(_vm.channelPackstatus),callback:function ($$v) {_vm.channelPackstatus=$$v},expression:\"channelPackstatus\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"填充渠道链接\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"上传渠道包\")])],1),_vm._v(\" \"),(_vm.channelPackstatus=='1')?_c('el-input',{staticClass:\"blockBox\",attrs:{\"placeholder\":\"请输入渠道链接\"},model:{value:(_vm.pro_from.packageLink),callback:function ($$v) {_vm.$set(_vm.pro_from, \"packageLink\", $$v)},expression:\"pro_from.packageLink\"}}):_vm._e(),_vm._v(\" \"),(_vm.channelPackstatus=='0')?_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":_vm.apiUrl.uploadApk,\"with-credentials\":true,\"on-success\":_vm.handleSuccess,\"on-remove\":_vm.handleRemove,\"beforeUpload\":_vm.beforeAvatarUpload,\"onError\":_vm.uploadError,\"file-list\":_vm.fileList}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传apk文件，且不超过2MB\")])],1):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"选择后台账号：\"}},[_c('el-select',{staticClass:\"f_select1\",attrs:{\"placeholder\":\"请选择\"},on:{\"change\":function($event){}},model:{value:(_vm.pro_from.backendAccountId),callback:function ($$v) {_vm.$set(_vm.pro_from, \"backendAccountId\", $$v)},expression:\"pro_from.backendAccountId\"}},_vm._l((_vm.adminSysAccounts),function(item,index){return _c('el-option',{key:item.id,attrs:{\"label\":item.account,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"height\":\"auto\"},attrs:{\"label\":\"接入价：\"}},[_vm._l((_vm.pro_from.prices),function(item,index){return (!item.deleted)?_c('div',{key:item.id},[_c('div',{staticClass:\"block\"},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},on:{\"change\":function($event){_vm.dateChange(index)}},model:{value:(item.date),callback:function ($$v) {_vm.$set(item, \"date\", $$v)},expression:\"item.date\"}})],1),_vm._v(\" \"),_c('el-input',{staticClass:\"el_input_short\",attrs:{\"placeholder\":\"请输入接入价\"},on:{\"change\":function($event){_vm.priceInputChange(index)}},model:{value:(item.price),callback:function ($$v) {_vm.$set(item, \"price\", $$v)},expression:\"item.price\"}}),_vm._v(\"\\n                                元\\n                                \"),(_vm.dateStatus)?_c('span',{staticClass:\"r_span\",staticStyle:{\"font-size\":\"16px\"},on:{\"click\":function($event){_vm.deletePrice(index)}}},[_vm._v(\"删除\")]):_vm._e(),_vm._v(\" \"),(item.disexist)?_c('span',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"10px\",\"color\":\"red\"}},[_vm._v(\"* 已存在\")]):_vm._e()],1):_vm._e()}),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.addRow}},[_vm._v(\"添加一行\")])],2),_vm._v(\" \"),_c('el-form-item',{staticClass:\"form_button\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"确认\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.go_back()}}},[_vm._v(\"返回\")])],1)],1)],1),_vm._v(\" \"),(_vm.isRightBox)?_c('div',{staticClass:\"page_d_con_right cpa_page_right\"},[_c('div',{staticClass:\"page_d_current page_create_current\"},[_c('div',{staticClass:\"current_page_title create_page_title\"},[_vm._v(\"操作历史记录\")]),_vm._v(\" \"),_c('div',{staticClass:\"current_img\"},_vm._l((4),function(o){return _c('div',{key:o,staticClass:\"text item\"},[_vm._v(\"\\n                                \"+_vm._s('列表内容 ' + o)+\"\\n                            \")])}))])]):_vm._e()])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"V34k\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"7rrL\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"FIqI\")(\"50d35065\", content, true, {});\n\n/***/ }),\n\n/***/ \"e59c\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    data: function data() {\n        return {\n            pageTitle: '创建产品信息',\n            menu_nav: ['CPA数据管理', '客户产品管理', '创建产品信息'],\n            isRightBox: false,\n            dateStatus: false,\n            uploadButStatus: true,\n            fileList: [],\n            pro_from: {\n                backendAccountId: '',\n                cooperativeMode: '',\n                customerCode: '',\n                kyProductChannelCode: '',\n                packageLink: '',\n                prices: [{\n                    date: '',\n                    id: '',\n                    disable: false,\n                    disexist: false,\n                    price: ''\n                }],\n                productChannelCode: '',\n                productCode: '',\n                productName: ''\n            },\n            channelPackstatus: 1,\n            proStatus: 1,\n            customer_items: {\n                placeHolder: '客户',\n                options: []\n            },\n            pro_items: {\n                placeHolder: '产品',\n                options: []\n            },\n            cooperativeMode_items: {\n                model_value: '',\n                placeHolder: '业务类型',\n                options: []\n            },\n            adminSysAccounts: [],\n            customerId: '',\n            customerCode: ''\n        };\n    },\n    created: function created() {\n        //            this.new_from.creatorID = sessionStorage.userId;\n        this.customerSelect();\n        this.businessModel();\n        this.customerId = this.$route.query.customerId;\n        if (this.customerId != '') {\n            this.pageInfo();\n            this.pageTitle = '编辑产品信息';\n            //                this.isRightBox = this.dateStatus = true;\n            this.dateStatus = true;\n        }\n    },\n\n    methods: {\n        customerSelect: function customerSelect() {\n            var _this = this;\n\n            /*客户*/\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.customerSearch,\n                params: {\n                    offset: 1,\n                    limit: 9999,\n                    val: ''\n                }\n            }).then(function (res) {\n                //                    console.log(res);\n                if (res.status == 200) {\n                    var data = res.data;\n                    _this.customer_items.options = data.items;\n                } else {\n                    //                        console.log('');\n                }\n            }).catch(function (error) {\n                console.log(error);\n            });\n        },\n        proInfo: function proInfo() {\n            var _this2 = this;\n\n            /*产品*/\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.customerProListLight,\n                params: {\n                    customerCode: this.pro_from.customerCode\n                }\n            }).then(function (res) {\n                if (res.status == 200) {\n                    var data = res.data;\n                    _this2.pro_items.options = data.items;\n                    _this2.pro_from.productName = '';\n                } else {}\n            }).catch(function (error) {\n                console.log(error);\n            });\n        },\n        adminSysInfo: function adminSysInfo() {\n            var _this3 = this;\n\n            var id;\n            if (this.pro_from.customerID) {\n                id = this.pro_from.customerID;\n            } else {\n                this.customer_items.options.forEach(function (item, i) {\n                    if (item.customerCode == _this3.pro_from.customerCode) {\n                        id = item.id;\n                    }\n                });\n            }\n            /*新建产品的客户后台账号列表*/\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.customerGet,\n                params: {\n                    id: id\n                }\n            }).then(function (res) {\n                //                    console.log(res);\n                if (res.status == 200) {\n                    var data = res.data;\n                    _this3.adminSysAccounts = data.adminSysAccounts;\n                    _this3.adminSysAccounts.map(function (item, index) {\n                        if (item.account == '') {\n                            _this3.adminSysAccounts.splice(index, 1);\n                        }\n                    });\n                } else {}\n            }).catch(function (error) {\n                console.log(error);\n            });\n        },\n        businessModel: function businessModel() {\n            var _this4 = this;\n\n            /*业务类型*/\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.customerProListBiztype\n            }).then(function (res) {\n                //                    console.log(res);\n                if (res.status == 200) {\n                    var data = res.data;\n                    _this4.cooperativeMode_items.options = data.lists;\n                } else {}\n            }).catch(function (error) {\n                console.log(error);\n            });\n        },\n        pageInfo: function pageInfo() {\n            var _this5 = this;\n\n            //                console.log(this.customerId);\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.customerProGet,\n                params: {\n                    id: this.customerId\n                }\n            }).then(function (res) {\n                //                    console.log(res);\n                if (res.status = 200) {\n                    _this5.pro_from = res.data;\n                    _this5.pro_from.cooperativeMode == 0 ? _this5.pro_from.cooperativeMode = '' : null;\n                }\n            }).catch(function (err) {});\n        },\n        cusSelect: function cusSelect() {\n            this.proInfo();\n            this.adminSysInfo();\n            if (this.customerId == '') {\n                this.pro_from.productCode = this.pro_from.backendAccountId = '';\n            }\n        },\n        onSubmit: function onSubmit() {\n            var _this6 = this;\n\n            delete this.pro_from.adminSysAccounts;\n            //                this.pro_from.cooperativeMode=parseInt(this.pro_from.cooperativeMode);\n            if (this.customerId == '' && this.proStatus == 0) {\n                delete this.pro_from.productCode;\n            } else if (this.customerId == '' && this.proStatus == 1) {\n                delete this.pro_from.productName;\n            }\n            var pricesArr = this.pro_from.prices;\n            var pricesLen = pricesArr.length;\n            var isexist = false; //判断是否有重复的接入价\n            if (this.customerId != '' && this.customerId) {\n                for (var i = 0; i < pricesLen; i++) {\n                    if ((pricesArr[i].date == '' || pricesArr[i].price == '' || !pricesArr[i].date) && !pricesArr[i].deleted) {\n                        this.$message({\n                            type: 'info',\n                            message: '接入价不能为空，请修改并重新提交'\n                        });\n                        return false;\n                    }\n                    if (pricesArr[i].disexist) {\n                        isexist = true;\n                    }\n                }\n            } else {\n                for (var _i = 0; _i < pricesLen; _i++) {\n                    if (pricesArr[_i].date == '' || pricesArr[_i].price == '' || !pricesArr[_i].date) {\n                        pricesArr.splice(_i, 1);\n                        _i--;\n                        pricesLen = pricesArr.length;\n                    } else if (pricesArr[_i].disexist) {\n                        isexist = true;\n                    }\n                }\n            }\n            if (isexist) {\n                this.$message({\n                    type: 'info',\n                    message: '存在重复的接入价，请修改或删除并重新提交'\n                });\n                return false;\n            }\n            if (pricesLen == 0) {\n                this.addRow();\n            }\n            var url = this.apiUrl.customerProNew;\n            this.customerId != '' ? url = this.apiUrl.customerProUpdate : null;\n            console.log(this.pro_from);\n            //                return false;\n            this.$http({\n                method: 'post',\n                url: url,\n                data: this.pro_from\n            }).then(function (res) {\n                //                    console.log(res);\n                if (res.status == 200) {\n                    var data = res.data;\n                    if (data.id >= 0) {\n                        if (data.status == 2) {\n                            _this6.$message({\n                                type: 'info',\n                                message: data.msg\n                            });\n                        } else {\n                            _this6.$message({\n                                type: 'success',\n                                message: '操作成功'\n                            });\n                            _this6.go_back();\n                        }\n                    } else {\n                        _this6.$message({\n                            type: 'error',\n                            message: '操作失败'\n                        });\n                    }\n                } else {\n                    _this6.$message({\n                        type: 'error',\n                        message: '操作失败，请完善信息，并重新提交'\n                    });\n                }\n            }).catch(function (error) {\n                _this6.$message({\n                    type: 'error',\n                    message: '请完善信息，并重新提交'\n                });\n            });\n        },\n        go_back: function go_back() {\n            this.$router.back();\n        },\n        handleRemove: function handleRemove(file, fileList) {\n            this.uploadButStatus = true;\n            this.fileList = [];\n            this.pro_from.packageLink = '';\n        },\n        handleSuccess: function handleSuccess(response, file, fileList) {\n            //                console.log(file);\n            this.fileList.push({\n                name: file.name,\n                url: response.url\n            });\n            if (response.status == 1) {\n                this.pro_from.packageLink = response.url;\n                this.uploadButStatus = false;\n            }\n        },\n\n        // 上传错误\n        uploadError: function uploadError(response, file, fileList) {\n            this.$message({\n                type: 'error',\n                message: '上传失败，请重试'\n            });\n        },\n\n        // 上传前对文件的大小的判断\n        beforeAvatarUpload: function beforeAvatarUpload(file) {\n            if (!this.uploadButStatus) {\n                this.$message({\n                    type: 'info',\n                    message: '只能上传一个包，您可删除已选，重新上传'\n                });\n                return false;\n            }\n            if (this.fileList.length >= 1) {\n                return false;\n            }\n            var fileName = file.name.split('.');\n            var fileNameLen = fileName.length - 1;\n            var extension = fileName[fileNameLen] === 'apk';\n            var isLt2M = file.size / 1024 / 1024 < 2;\n            if (!extension) {\n                this.$message({\n                    type: 'info',\n                    message: '上传渠道包只能是 apk 格式'\n                });\n            }\n            if (!isLt2M) {\n                this.$message({\n                    type: 'info',\n                    message: '上传包大小不能超过 2MB'\n                });\n            }\n            return extension && isLt2M;\n        },\n        dateChange: function dateChange(index) {\n            var date = this.pro_from.prices[index].date || '';\n            if (date != '' && date != 'undefined' && typeof date != 'undefined') {\n                this.pro_from.prices[index].date = this.formatDateTime(new Date(date), 'y-m-d');\n            } else {\n                this.pro_from.prices[index].date = '';\n            }\n            this.priceInputChange(index);\n        },\n        addRow: function addRow() {\n            this.pro_from.prices.push({\n                'date': '',\n                'disable': false,\n                'disexist': false,\n                'deleted': false,\n                'price': ''\n            });\n        },\n        deletePrice: function deletePrice(index) {\n            var pricesArr = this.pro_from.prices;\n            var pricesLen = pricesArr.length;\n            var isexist = false; //判断是否有重复的接入价\n            if (this.customerId != '' && this.customerId) {\n                for (var i = 0; i < pricesLen; i++) {\n                    if (pricesArr[i].disexist) {\n                        isexist = true;\n                    }\n                }\n            }\n            if (isexist) {\n                this.$message({\n                    type: 'info',\n                    message: '存在重复的接入价，请修改后再进行删除'\n                });\n                return false;\n            }\n            this.pro_from.prices[index].deleted = true;\n            this.pro_from.prices[index].disexist = false;\n        },\n        priceInputChange: function priceInputChange(index) {\n            var priceArr = this.pro_from.prices;\n            var obj = this.pro_from.prices[index];\n            if (obj.price && obj.date) {\n                try {\n                    priceArr.forEach(function (item, i) {\n                        if (i != index && item.date == obj.date && item.price && !item.deleted) {\n                            obj.disexist = true;\n                            foreach.break = new Error(\"StopIteration\");\n                        } else if (i != index && item.date != obj.date && item.price && !item.deleted) {\n                            obj.disexist = false;\n                        }\n                    });\n                } catch (e) {\n                    //                        console.log(e.message);\n                    if (e.message === \"foreach is not defined\") {\n                        //                            console.log(\"跳出来了?\");\n                        return;\n                    } else throw e;\n                }\n            } else {\n                priceArr.forEach(function (item, i) {\n                    if (item.disexist && item.date && item.price) {\n                        var flag = true;\n                        //                            console.log(item);\n                        priceArr.forEach(function (c, x) {\n                            if (i != x && item.date == c.date && c.price) {\n                                flag = false;\n                            }\n                        });\n                        //                            console.log(flag);\n                        flag ? item.disexist = false : null;\n                    } else {\n                        item.disexist = false;\n                    }\n                });\n            }\n        }\n    }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/51.dd684e62843eb179dd86.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62414842\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./customerProNew.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./customerProNew.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./customerProNew.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62414842\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./customerProNew.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/cpaDataMana/customerProNew.vue\n// module id = 6uwo\n// module chunks = 51","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"customerProNew.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-62414842\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/cpaDataMana/customerProNew.vue\n// module id = 7rrL\n// module chunks = 51","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"page_create customerProNew\"},[_c('div',{staticClass:\"menuNav\"},[_c('p',[_c('i',{staticClass:\"nav_index\"}),_vm._l((_vm.menu_nav),function(c,i){return _c('span',{key:i},[_c('i',{staticClass:\"el-icon-arrow-right\"}),_c('em',[_vm._v(_vm._s(c))])])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"page_d_title\"},[_c('i'),_c('span',[_vm._v(_vm._s(_vm.pageTitle))])]),_vm._v(\" \"),_c('div',{staticClass:\"page_d_con\"},[_c('div',{staticClass:\"page_d_con_left cpa_page_left\",class:{page_d_con_left_widthAll:!_vm.isRightBox}},[_c('div',{staticClass:\"banner_part_line page_create_set_line\"},[_vm._v(\"产品信息\")]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.pro_from,\"label-width\":\"125px\"}},[_c('el-form-item',{attrs:{\"label\":\"客户名称：\"}},[_c('el-select',{staticClass:\"f_select1\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\",\"disabled\":_vm.dateStatus,\"filterable\":\"\"},on:{\"change\":_vm.cusSelect},model:{value:(_vm.pro_from.customerCode),callback:function ($$v) {_vm.$set(_vm.pro_from, \"customerCode\", $$v)},expression:\"pro_from.customerCode\"}},_vm._l((_vm.customer_items.options),function(item,index){return _c('el-option',{key:item.customerCode,attrs:{\"label\":item.name,\"value\":item.customerCode}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"height\":\"auto\"},attrs:{\"label\":\"产品名称：\"}},[_c('el-radio-group',{staticClass:\"f_radio2 f_radio\",attrs:{\"disabled\":_vm.dateStatus},model:{value:(_vm.proStatus),callback:function ($$v) {_vm.proStatus=$$v},expression:\"proStatus\"}},[_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"新产品\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"选择已有产品\")])],1),_vm._v(\" \"),(_vm.proStatus==0)?_c('el-input',{staticClass:\"blockBox\",attrs:{\"placeholder\":\"请输入产品名称\",\"disabled\":_vm.dateStatus},model:{value:(_vm.pro_from.productName),callback:function ($$v) {_vm.$set(_vm.pro_from, \"productName\", $$v)},expression:\"pro_from.productName\"}}):_vm._e(),_vm._v(\" \"),(_vm.proStatus==1)?_c('el-select',{staticClass:\"f_select1 blockBox\",attrs:{\"placeholder\":\"请选择\",\"disabled\":_vm.dateStatus},on:{\"change\":function($event){}},model:{value:(_vm.pro_from.productCode),callback:function ($$v) {_vm.$set(_vm.pro_from, \"productCode\", $$v)},expression:\"pro_from.productCode\"}},_vm._l((_vm.pro_items.options),function(item,index){return _c('el-option',{key:item.id,attrs:{\"label\":item.productName,\"value\":item.customerProductCode}})})):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"业务类型：\"}},[_c('el-select',{staticClass:\"f_select1\",attrs:{\"placeholder\":_vm.cooperativeMode_items.placeHolder},on:{\"change\":function($event){}},model:{value:(_vm.pro_from.cooperativeMode),callback:function ($$v) {_vm.$set(_vm.pro_from, \"cooperativeMode\", $$v)},expression:\"pro_from.cooperativeMode\"}},_vm._l((_vm.cooperativeMode_items.options),function(item,index){return _c('el-option',{key:item.id,attrs:{\"label\":item.value,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上游渠道号：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入上游渠道号\"},model:{value:(_vm.pro_from.productChannelCode),callback:function ($$v) {_vm.$set(_vm.pro_from, \"productChannelCode\", $$v)},expression:\"pro_from.productChannelCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"康远渠道号：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入康远渠道号\"},model:{value:(_vm.pro_from.kyProductChannelCode),callback:function ($$v) {_vm.$set(_vm.pro_from, \"kyProductChannelCode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"pro_from.kyProductChannelCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"height\":\"auto\"},attrs:{\"label\":\"填充渠道包：\"}},[_c('el-radio-group',{staticClass:\"f_radio2 f_radio\",model:{value:(_vm.channelPackstatus),callback:function ($$v) {_vm.channelPackstatus=$$v},expression:\"channelPackstatus\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"填充渠道链接\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"上传渠道包\")])],1),_vm._v(\" \"),(_vm.channelPackstatus=='1')?_c('el-input',{staticClass:\"blockBox\",attrs:{\"placeholder\":\"请输入渠道链接\"},model:{value:(_vm.pro_from.packageLink),callback:function ($$v) {_vm.$set(_vm.pro_from, \"packageLink\", $$v)},expression:\"pro_from.packageLink\"}}):_vm._e(),_vm._v(\" \"),(_vm.channelPackstatus=='0')?_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":_vm.apiUrl.uploadApk,\"with-credentials\":true,\"on-success\":_vm.handleSuccess,\"on-remove\":_vm.handleRemove,\"beforeUpload\":_vm.beforeAvatarUpload,\"onError\":_vm.uploadError,\"file-list\":_vm.fileList}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传apk文件，且不超过2MB\")])],1):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"选择后台账号：\"}},[_c('el-select',{staticClass:\"f_select1\",attrs:{\"placeholder\":\"请选择\"},on:{\"change\":function($event){}},model:{value:(_vm.pro_from.backendAccountId),callback:function ($$v) {_vm.$set(_vm.pro_from, \"backendAccountId\", $$v)},expression:\"pro_from.backendAccountId\"}},_vm._l((_vm.adminSysAccounts),function(item,index){return _c('el-option',{key:item.id,attrs:{\"label\":item.account,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"height\":\"auto\"},attrs:{\"label\":\"接入价：\"}},[_vm._l((_vm.pro_from.prices),function(item,index){return (!item.deleted)?_c('div',{key:item.id},[_c('div',{staticClass:\"block\"},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},on:{\"change\":function($event){_vm.dateChange(index)}},model:{value:(item.date),callback:function ($$v) {_vm.$set(item, \"date\", $$v)},expression:\"item.date\"}})],1),_vm._v(\" \"),_c('el-input',{staticClass:\"el_input_short\",attrs:{\"placeholder\":\"请输入接入价\"},on:{\"change\":function($event){_vm.priceInputChange(index)}},model:{value:(item.price),callback:function ($$v) {_vm.$set(item, \"price\", $$v)},expression:\"item.price\"}}),_vm._v(\"\\n                                元\\n                                \"),(_vm.dateStatus)?_c('span',{staticClass:\"r_span\",staticStyle:{\"font-size\":\"16px\"},on:{\"click\":function($event){_vm.deletePrice(index)}}},[_vm._v(\"删除\")]):_vm._e(),_vm._v(\" \"),(item.disexist)?_c('span',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"10px\",\"color\":\"red\"}},[_vm._v(\"* 已存在\")]):_vm._e()],1):_vm._e()}),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.addRow}},[_vm._v(\"添加一行\")])],2),_vm._v(\" \"),_c('el-form-item',{staticClass:\"form_button\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"确认\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.go_back()}}},[_vm._v(\"返回\")])],1)],1)],1),_vm._v(\" \"),(_vm.isRightBox)?_c('div',{staticClass:\"page_d_con_right cpa_page_right\"},[_c('div',{staticClass:\"page_d_current page_create_current\"},[_c('div',{staticClass:\"current_page_title create_page_title\"},[_vm._v(\"操作历史记录\")]),_vm._v(\" \"),_c('div',{staticClass:\"current_img\"},_vm._l((4),function(o){return _c('div',{key:o,staticClass:\"text item\"},[_vm._v(\"\\n                                \"+_vm._s('列表内容 ' + o)+\"\\n                            \")])}))])]):_vm._e()])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-62414842\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/cpaDataMana/customerProNew.vue\n// module id = 8lx0\n// module chunks = 51","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62414842\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./customerProNew.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"50d35065\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-62414842\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/cpaDataMana/customerProNew.vue\n// module id = V34k\n// module chunks = 51","<style rel=\"stylesheet/scss\" lang=\"scss\">\n\n\n</style>\n\n<template>\n    <div>\n        <div class=\"page_create customerProNew\">\n            <div class=\"menuNav\">\n                <p><i class=\"nav_index\"></i><span v-for=\"(c, i) in menu_nav\" :key=\"i\"><i\n                    class=\"el-icon-arrow-right\"></i><em>{{c}}</em></span></p>\n            </div>\n            <div class=\"page_d_title\">\n                <i></i><span>{{pageTitle}}</span>\n            </div>\n            <div class=\"page_d_con\">\n                <div class=\"page_d_con_left cpa_page_left\" :class=\"{page_d_con_left_widthAll:!isRightBox}\">\n                    <div class=\"banner_part_line page_create_set_line\">产品信息</div>\n                    <el-form ref=\"form\" :model=\"pro_from\" label-width=\"125px\">\n                        <el-form-item label=\"客户名称：\">\n                            <el-select v-model=\"pro_from.customerCode\" filterable placeholder=\"请选择\" class=\"f_select1\"\n                                       @change=\"cusSelect\" :disabled=\"dateStatus\" filterable>\n                                <el-option\n                                    v-for=\"(item,index) in customer_items.options \"\n                                    :key=\"item.customerCode\"\n                                    :label=\"item.name\"\n                                    :value=\"item.customerCode\">\n                                </el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item label=\"产品名称：\" style=\"height:auto;\">\n                            <el-radio-group v-model=\"proStatus\" class=\"f_radio2 f_radio\" :disabled=\"dateStatus\">\n                                <el-radio :label=\"0\">新产品</el-radio>\n                                <el-radio :label=\"1\">选择已有产品</el-radio>\n                            </el-radio-group>\n                            <el-input v-model=\"pro_from.productName\" placeholder=\"请输入产品名称\"\n                                      class=\"blockBox\" v-if=\"proStatus==0\" :disabled=\"dateStatus\"></el-input>\n                            <el-select v-model=\"pro_from.productCode\" placeholder=\"请选择\" class=\"f_select1 blockBox\"\n                                       @change=\"\" v-if=\"proStatus==1\" :disabled=\"dateStatus\">\n                                <el-option\n                                    v-for=\"(item,index) in pro_items.options\"\n                                    :key=\"item.id\"\n                                    :label=\"item.productName\"\n                                    :value=\"item.customerProductCode\">\n                                </el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item label=\"业务类型：\">\n                            <el-select v-model=\"pro_from.cooperativeMode\"\n                                       :placeholder=\"cooperativeMode_items.placeHolder\" class=\"f_select1\"\n                                       @change=\"\">\n                                <el-option\n                                    v-for=\"(item,index) in cooperativeMode_items.options\"\n                                    :key=\"item.id\"\n                                    :label=\"item.value\"\n                                    :value=\"item.id\">\n                                </el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item label=\"上游渠道号：\">\n                            <el-input v-model=\"pro_from.productChannelCode\" class=\"\" placeholder=\"请输入上游渠道号\"></el-input>\n                        </el-form-item>\n                        <el-form-item label=\"康远渠道号：\">\n                            <el-input v-model.trim=\"pro_from.kyProductChannelCode\" class=\"\" placeholder=\"请输入康远渠道号\"></el-input>\n                        </el-form-item>\n                        <el-form-item label=\"填充渠道包：\" style=\"height:auto;\">\n                            <el-radio-group v-model=\"channelPackstatus\" class=\"f_radio2 f_radio\">\n                                <el-radio :label=\"1\">填充渠道链接</el-radio>\n                                <el-radio :label=\"0\">上传渠道包</el-radio>\n                            </el-radio-group>\n                            <el-input v-model=\"pro_from.packageLink\" placeholder=\"请输入渠道链接\"\n                                      v-if=\"channelPackstatus=='1'\" class=\"blockBox\"></el-input>\n                            <el-upload\n                                class=\"upload-demo\"\n                                :action=\"apiUrl.uploadApk\"\n                                :with-credentials=\"true\"\n                                :on-success=\"handleSuccess\"\n                                :on-remove=\"handleRemove\"\n                                :beforeUpload=\"beforeAvatarUpload\"\n                                :onError=\"uploadError\"\n                                :file-list=\"fileList\"\n                                v-if=\"channelPackstatus=='0'\">\n                                <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n                                <div slot=\"tip\" class=\"el-upload__tip\">只能上传apk文件，且不超过2MB</div>\n                            </el-upload>\n                        </el-form-item>\n                        <el-form-item label=\"选择后台账号：\">\n                            <el-select v-model=\"pro_from.backendAccountId\" placeholder=\"请选择\" class=\"f_select1\"\n                                       @change=\"\">\n                                <el-option\n                                    v-for=\"(item,index) in adminSysAccounts\"\n                                    :key=\"item.id\"\n                                    :label=\"item.account\"\n                                    :value=\"item.id\">\n                                </el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item label=\"接入价：\" style=\"height:auto;\">\n                            <div v-for=\"(item,index) in pro_from.prices\" :key=\"item.id\" v-if=\"!item.deleted\">\n                                <div class=\"block\">\n                                    <el-date-picker\n                                        v-model=\"item.date\"\n                                        type=\"date\"\n                                        placeholder=\"选择日期\"\n                                        @change=\"dateChange(index)\">\n                                    </el-date-picker>\n                                </div>\n                                <el-input v-model=\"item.price\" class=\"el_input_short\"\n                                          placeholder=\"请输入接入价\" @change=\"priceInputChange(index)\"></el-input>\n                                元\n                                <span class=\"r_span\" style=\"font-size:16px;\" v-if=\"dateStatus\" @click=\"deletePrice(index)\">删除</span>\n                                <span style=\"display:inline-block;margin-left:10px;color:red;\" v-if=\"item.disexist\">* 已存在</span>\n                            </div>\n                            <el-button @click=\"addRow\">添加一行</el-button>\n                        </el-form-item>\n                        <el-form-item class=\"form_button\">\n                            <el-button type=\"primary\" @click=\"onSubmit\">确认</el-button>\n                            <el-button @click=\"go_back()\">返回</el-button>\n                        </el-form-item>\n                    </el-form>\n                </div><!--\n\t\t\t\t-->\n                <div class=\"page_d_con_right cpa_page_right\" v-if=\"isRightBox\">\n                    <div class=\"page_d_current page_create_current\">\n                        <div class=\"current_page_title create_page_title\">操作历史记录</div>\n                        <div class=\"current_img\">\n                            <div v-for=\"o in 4\" :key=\"o\" class=\"text item\">\n                                {{'列表内容 ' + o }}\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        data() {\n            return {\n                pageTitle: '创建产品信息',\n                menu_nav: ['CPA数据管理', '客户产品管理', '创建产品信息'],\n                isRightBox: false,\n                dateStatus: false,\n                uploadButStatus: true,\n                fileList: [],\n                pro_from: {\n                    backendAccountId: '',\n                    cooperativeMode: '',\n                    customerCode: '',\n                    kyProductChannelCode: '',\n                    packageLink: '',\n                    prices: [{\n                        date: '',\n                        id: '',\n                        disable: false,\n                        disexist: false,\n                        price: ''\n                    },],\n                    productChannelCode: '',\n                    productCode: '',\n                    productName: '',\n                },\n                channelPackstatus: 1,\n                proStatus: 1,\n                customer_items: {\n                    placeHolder: '客户',\n                    options: []\n                },\n                pro_items: {\n                    placeHolder: '产品',\n                    options: []\n                },\n                cooperativeMode_items: {\n                    model_value: '',\n                    placeHolder: '业务类型',\n                    options: []\n                },\n                adminSysAccounts: [],\n                customerId: '',\n                customerCode: ''\n            };\n        },\n        created() {\n//            this.new_from.creatorID = sessionStorage.userId;\n            this.customerSelect();\n            this.businessModel();\n            this.customerId = this.$route.query.customerId;\n            if (this.customerId != '') {\n                this.pageInfo();\n                this.pageTitle = '编辑产品信息';\n//                this.isRightBox = this.dateStatus = true;\n                this.dateStatus = true;\n            }\n        },\n        methods: {\n            customerSelect() {\n                /*客户*/\n                this.$http({\n                    method: 'get',\n                    url: this.apiUrl.customerSearch,\n                    params: {\n                        offset: 1,\n                        limit: 9999,\n                        val: '',\n                    }\n                }).then(res => {\n//                    console.log(res);\n                    if (res.status == 200) {\n                        var data = res.data;\n                        this.customer_items.options = data.items;\n                    } else {\n//                        console.log('');\n                    }\n                }).catch(error => {\n                    console.log(error);\n                });\n            },\n            proInfo() {\n                /*产品*/\n                this.$http({\n                    method: 'get',\n                    url: this.apiUrl.customerProListLight,\n                    params: {\n                        customerCode: this.pro_from.customerCode,\n                    }\n                }).then(res => {\n                    if (res.status == 200) {\n                        var data = res.data;\n                        this.pro_items.options = data.items;\n                        this.pro_from.productName = '';\n                    } else {\n                    }\n                }).catch(error => {\n                    console.log(error);\n                });\n            },\n            adminSysInfo() {\n                var id;\n                if (this.pro_from.customerID) {\n                    id = this.pro_from.customerID;\n                } else {\n                    this.customer_items.options.forEach((item, i) => {\n                        if (item.customerCode == this.pro_from.customerCode) {\n                            id = item.id;\n                        }\n                    });\n                }\n                /*新建产品的客户后台账号列表*/\n                this.$http({\n                    method: 'get',\n                    url: this.apiUrl.customerGet,\n                    params: {\n                        id: id,\n                    }\n                }).then(res => {\n//                    console.log(res);\n                    if (res.status == 200) {\n                        var data = res.data;\n                        this.adminSysAccounts = data.adminSysAccounts;\n                        this.adminSysAccounts.map((item, index) => {\n                            if (item.account == '') {\n                                this.adminSysAccounts.splice(index, 1);\n                            }\n                        });\n                    } else {\n                    }\n                }).catch(error => {\n                    console.log(error);\n                });\n            },\n            businessModel() {\n                /*业务类型*/\n                this.$http({\n                    method: 'get',\n                    url: this.apiUrl.customerProListBiztype,\n                }).then(res => {\n//                    console.log(res);\n                    if (res.status == 200) {\n                        var data = res.data;\n                        this.cooperativeMode_items.options = data.lists;\n                    } else {\n                    }\n                }).catch(error => {\n                    console.log(error);\n                });\n            },\n            pageInfo() {\n//                console.log(this.customerId);\n                this.$http({\n                    method: 'get',\n                    url: this.apiUrl.customerProGet,\n                    params: {\n                        id: this.customerId\n                    }\n                }).then(res => {\n//                    console.log(res);\n                    if (res.status = 200) {\n                        this.pro_from = res.data;\n                        this.pro_from.cooperativeMode == 0 ? this.pro_from.cooperativeMode = '' : null;\n                    }\n                }).catch(err => {\n\n                });\n            },\n            cusSelect() {\n                this.proInfo();\n                this.adminSysInfo();\n                if (this.customerId == '') {\n                    this.pro_from.productCode = this.pro_from.backendAccountId = '';\n                }\n            },\n            onSubmit() {\n                delete this.pro_from.adminSysAccounts;\n//                this.pro_from.cooperativeMode=parseInt(this.pro_from.cooperativeMode);\n                if (this.customerId == '' && this.proStatus == 0) {\n                    delete this.pro_from.productCode;\n                } else if (this.customerId == '' && this.proStatus == 1) {\n                    delete this.pro_from.productName;\n                }\n                var pricesArr = this.pro_from.prices;\n                var pricesLen = pricesArr.length;\n                let isexist=false;//判断是否有重复的接入价\n                if(this.customerId != ''&&this.customerId){\n                    for (let i = 0; i < pricesLen; i++) {\n                        if ((pricesArr[i].date == '' || pricesArr[i].price == ''||!pricesArr[i].date)&&!pricesArr[i].deleted){\n                            this.$message({\n                                type: 'info',\n                                message: '接入价不能为空，请修改并重新提交'\n                            });\n                            return false;\n                        }\n                        if(pricesArr[i].disexist){\n                            isexist=true;\n                        }\n                    }\n                }else{\n                    for (let i = 0; i < pricesLen; i++) {\n                        if (pricesArr[i].date == '' || pricesArr[i].price == ''||!pricesArr[i].date) {\n                            pricesArr.splice(i, 1);\n                            i--;\n                            pricesLen = pricesArr.length;\n                        }else if(pricesArr[i].disexist){\n                            isexist=true;\n                        }\n                    }\n                }\n                if(isexist){\n                    this.$message({\n                        type: 'info',\n                        message: '存在重复的接入价，请修改或删除并重新提交'\n                    });\n                    return false;\n                }\n                if (pricesLen == 0) {\n                    this.addRow();\n                }\n                var url = this.apiUrl.customerProNew;\n                this.customerId != '' ? url = this.apiUrl.customerProUpdate : null;\n                console.log(this.pro_from);\n//                return false;\n                this.$http({\n                    method: 'post',\n                    url: url,\n                    data: this.pro_from,\n                }).then(res => {\n//                    console.log(res);\n                    if (res.status == 200) {\n                        var data = res.data;\n                        if (data.id >= 0) {\n                            if (data.status == 2) {\n                                this.$message({\n                                    type: 'info',\n                                    message: data.msg\n                                });\n                            } else {\n                                this.$message({\n                                    type: 'success',\n                                    message: '操作成功'\n                                });\n                                this.go_back();\n                            }\n                        } else {\n                            this.$message({\n                                type: 'error',\n                                message: '操作失败'\n                            });\n                        }\n                    } else {\n                        this.$message({\n                            type: 'error',\n                            message: '操作失败，请完善信息，并重新提交'\n                        });\n                    }\n                }).catch(error => {\n                    this.$message({\n                        type: 'error',\n                        message: '请完善信息，并重新提交'\n                    });\n                });\n            },\n            go_back() {\n                this.$router.back();\n            },\n            handleRemove(file, fileList) {\n                this.uploadButStatus = true;\n                this.fileList = [];\n                this.pro_from.packageLink = '';\n            },\n            handleSuccess(response, file, fileList) {\n//                console.log(file);\n                this.fileList.push({\n                    name: file.name,\n                    url: response.url\n                });\n                if (response.status == 1) {\n                    this.pro_from.packageLink = response.url;\n                    this.uploadButStatus = false;\n                }\n            },\n            // 上传错误\n            uploadError(response, file, fileList) {\n                this.$message({\n                    type: 'error',\n                    message: '上传失败，请重试'\n                });\n            },\n            // 上传前对文件的大小的判断\n            beforeAvatarUpload(file) {\n                if (!this.uploadButStatus) {\n                    this.$message({\n                        type: 'info',\n                        message: '只能上传一个包，您可删除已选，重新上传'\n                    });\n                    return false;\n                }\n                if (this.fileList.length >= 1) {\n                    return false;\n                }\n                var fileName = file.name.split('.');\n                var fileNameLen = fileName.length - 1;\n                const extension = fileName[fileNameLen] === 'apk';\n                const isLt2M = file.size / 1024 / 1024 < 2;\n                if (!extension) {\n                    this.$message({\n                        type: 'info',\n                        message: '上传渠道包只能是 apk 格式'\n                    });\n                }\n                if (!isLt2M) {\n                    this.$message({\n                        type: 'info',\n                        message: '上传包大小不能超过 2MB'\n                    });\n                }\n                return extension && isLt2M;\n            },\n            dateChange(index) {\n                var date = this.pro_from.prices[index].date || '';\n                if (date != '' && date != 'undefined' && typeof date != 'undefined') {\n                    this.pro_from.prices[index].date = this.formatDateTime(new Date(date), 'y-m-d');\n                } else {\n                    this.pro_from.prices[index].date = '';\n                }\n                this.priceInputChange(index);\n            },\n            addRow() {\n                this.pro_from.prices.push({\n                    'date': '',\n                    'disable': false,\n                    'disexist': false,\n                    'deleted': false,\n                    'price': ''\n                });\n            },\n            deletePrice(index){\n                var pricesArr = this.pro_from.prices;\n                var pricesLen = pricesArr.length;\n                let isexist=false;//判断是否有重复的接入价\n                if(this.customerId != ''&&this.customerId){\n                    for (let i = 0; i < pricesLen; i++) {\n                        if(pricesArr[i].disexist){\n                            isexist=true;\n                        }\n                    }\n                }\n                if(isexist){\n                    this.$message({\n                        type: 'info',\n                        message: '存在重复的接入价，请修改后再进行删除'\n                    });\n                    return false;\n                }\n                this.pro_from.prices[index].deleted=true;\n                this.pro_from.prices[index].disexist=false;\n            },\n            priceInputChange(index){\n                let priceArr=this.pro_from.prices;\n                let obj=this.pro_from.prices[index];\n                if(obj.price&&obj.date){\n                    try{\n                        priceArr.forEach((item,i)=>{\n                            if(i!=index&&item.date==obj.date&&item.price&&!item.deleted){\n                                obj.disexist=true;\n                                foreach.break=new Error(\"StopIteration\");\n                            }else if(i!=index&&item.date!=obj.date&&item.price&&!item.deleted){\n                                obj.disexist=false;\n                            }\n                        });\n                    }catch (e){\n//                        console.log(e.message);\n                        if(e.message===\"foreach is not defined\") {\n//                            console.log(\"跳出来了?\");\n                            return;\n                        }else throw e;\n                    }\n                }else{\n                    priceArr.forEach((item,i)=>{\n                        if(item.disexist&&item.date&&item.price){\n                            let flag=true;\n//                            console.log(item);\n                            priceArr.forEach((c,x)=>{\n                                if(i!=x&&item.date==c.date&&c.price){\n                                    flag=false;\n                                }\n                            });\n//                            console.log(flag);\n                            flag?item.disexist=false:null;\n                        }else{\n                            item.disexist=false;\n                        }\n                    });\n                }\n            },\n        }\n    };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/cpaDataMana/customerProNew.vue"],"sourceRoot":""}