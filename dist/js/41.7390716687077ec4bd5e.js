webpackJsonp([41],{"4MyN":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page_create customerInfoNew"},[a("div",{staticClass:"menuNav"},[a("p",[a("i",{staticClass:"nav_index"}),t._l(t.menu_nav,function(e,o){return a("span",{key:o},[a("i",{staticClass:"el-icon-arrow-right"}),a("em",[t._v(t._s(e))])])})],2)]),t._v(" "),a("div",{staticClass:"page_d_title"},[a("i"),a("span",[t._v(t._s(t.title))])]),t._v(" "),a("div",{staticClass:"page_d_con"},[a("div",{staticClass:"page_d_con_left"},[a("el-form",{ref:"form",attrs:{model:t.account,"label-width":"125px"}},[a("div",{staticClass:"banner_part_line page_create_set_line"},[t._v("账号信息")]),t._v(" "),a("el-form-item",{attrs:{label:"选择平台："}},[a("el-select",{staticClass:"f_select1",attrs:{filterable:"",placeholder:"请选择",disabled:t.platformStatus},model:{value:t.account.platformId,callback:function(e){t.$set(t.account,"platformId",e)},expression:"account.platformId"}},t._l(t.platform_items.options,function(t,e){return a("el-option",{key:t.platformId,attrs:{label:t.platformName,value:t.platformId}})}))],1),t._v(" "),a("el-form-item",{staticStyle:{height:"auto",position:"relative"},attrs:{label:"创建账号："}},[a("el-input",{staticStyle:{position:"absolute","z-index":"-1"},attrs:{placeholder:"请输入后台账号","auto-complete":"off",disabled:""},model:{value:t.account.name,callback:function(e){t.$set(t.account,"name",e)},expression:"account.name"}}),t._v(" "),a("el-input",{staticStyle:{position:"absolute","z-index":"-1"},attrs:{placeholder:"请输入后台密码","auto-complete":"off",disabled:""},model:{value:t.account.pwd,callback:function(e){t.$set(t.account,"pwd",e)},expression:"account.pwd"}}),t._v(" "),a("el-input",{attrs:{placeholder:"请输入后台账号","auto-complete":"off"},model:{value:t.account.name,callback:function(e){t.$set(t.account,"name",e)},expression:"account.name"}}),t._v(" "),a("el-input",{attrs:{placeholder:"请输入后台密码","auto-complete":"off"},model:{value:t.account.pwd,callback:function(e){t.$set(t.account,"pwd",e)},expression:"account.pwd"}}),t._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.add}},[t._v("添加一行")])],1),t._v(" "),t._l(t.account.operators,function(e,o){return a("el-form-item",{key:o,staticStyle:{height:"auto",position:"relative"},attrs:{label:""}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},on:{change:function(e){t.dateChange(o)}},model:{value:e.date,callback:function(a){t.$set(e,"date",a)},expression:"items.date"}}),t._v(" "),a("el-select",{staticClass:"f_select1",attrs:{placeholder:"运营者",clearable:"","value-key":"operatorId"},on:{change:function(e){t.operateSelect(o)}},model:{value:t.operate_items.model_value[o],callback:function(e){t.$set(t.operate_items.model_value,o,e)},expression:"operate_items.model_value[i]"}},t._l(t.operate_items.options,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t}})}))],1)}),t._v(" "),a("el-form-item",{staticClass:"form_button"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认")]),t._v(" "),a("el-button",{on:{click:function(e){t.go_back()}}},[t._v("返回")])],1)],2)],1)])])])},s=[],n={render:o,staticRenderFns:s};e.a=n},aBuj:function(t,e,a){e=t.exports=a("UTlt")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"accountManaNew.vue",sourceRoot:""}])},dtU7:function(t,e,a){var o=a("aBuj");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("FIqI")("65be3053",o,!0,{})},mMY4:function(t,e,a){"use strict";e.a={data:function(){return{dateValue:"",title:"创建账号信息",menu_nav:["信息流数据管理","账号管理","创建账号信息"],msg:"创建",params:{date:""},platform_items:{model_value:"",placeHolder:"平台",options:[]},operate_items:{model_value:[],placeHolder:"运营人",options:[]},platformStatus:!1,accountId:"",account:{id:null,name:"",operators:[],platformId:"",pwd:""}}},created:function(){this.accountId=this.$route.query.id,""!=this.accountId&&void 0!==this.accountId&&(this.title="编辑账号信息",this.msg="编辑",this.menu_nav[2]="编辑账号信息",this.platformStatus=!0,this.pageInfo()),this.platform(),this.operate()},methods:{platform:function(){var t=this;this.$http({method:"get",url:this.apiUrl.fdpPlaGetPlatformList}).then(function(e){if(200==e.status){var a=e.data;t.platform_items.options=a}console.log(t.platform_items.options)}).catch(function(t){console.log(t)})},operate:function(){var t=this;this.$http({method:"get",url:this.apiUrl.fdpAccGetOperator}).then(function(e){if(200==e.status){var a=e.data;t.operate_items.options=a}}).catch(function(t){console.log(t)})},pageInfo:function(){var t=this;this.$http({method:"get",url:this.apiUrl.fdpAccGetAccount,params:{id:this.accountId}}).then(function(e){if(console.log(e),200==e.status){var a=e.data;a.operators.forEach(function(e,a){t.operate_items.model_value.push({operatorId:e.operatorId,date:e.date,id:e.id})}),t.account=a}}).catch(function(t){console.log(t)})},dateChange:function(t){var e=this.account.operators[t].date;this.account.operators[t].date=""!=e&&void 0!==e?this.formatDateTime(e,"y-m-d"):""},operateSelect:function(t){this.account.operators[t].operatorId=this.operate_items.model_value[t].operatorId},add:function(){this.account.operators.push({date:"",id:null,operatorId:""})},onSubmit:function(){var t=this;if(""==this.account.platformId)return this.$message({type:"info",message:"请选择平台"}),!1;if(""==this.account.name)return this.$message({type:"info",message:"请输入账号"}),!1;if(""==this.account.pwd)return this.$message({type:"info",message:"请输入密码"}),!1;var e=this.apiUrl.fdpAccNewPlatform;""!=this.accountId&&void 0!==this.accountId&&(e=this.apiUrl.fdpAccUpdateAccount),console.log(this.account),this.$http({method:"post",url:e,data:this.account}).then(function(e){if(200==e.status){var a=e.data;console.log(a),1==a.status?(t.$message({type:"success",message:t.msg+"成功"}),t.go_back()):t.$message({type:"error",message:a.msg})}else t.$message({type:"error",message:t.msg+"失败，请重新提交"})}).catch(function(e){console.log(e),t.$message({type:"error",message:"请重新提交"})})},go_back:function(){this.$router.back()}}}},qLor:function(t,e,a){"use strict";function o(t){a("dtU7")}Object.defineProperty(e,"__esModule",{value:!0});var s=a("mMY4"),n=a("4MyN"),c=a("vSla"),i=o,l=c(s.a,n.a,!1,i,null,null);e.default=l.exports}});
//# sourceMappingURL=41.7390716687077ec4bd5e.js.map