{"version":3,"sources":["webpack:///js/69.1fff854725fb9f674cba.js","webpack:///./src/views/cpaDataMana/channelContractMana.vue?2edb","webpack:///src/views/cpaDataMana/channelContractMana.vue","webpack:///./src/views/cpaDataMana/channelContractMana.vue?f138","webpack:///./src/views/cpaDataMana/channelContractMana.vue","webpack:///./src/views/cpaDataMana/channelContractMana.vue?4cdd"],"names":["webpackJsonp","AD+i","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click","bodyEvent","_l","c","i","key","_v","_s","attrs","placeholder","model","value","callback","$$v","contractNo","expression","$event","channel_items","placeHolder","change","$set","item","channelCode","label","name","contract_items","id","val","type","newContract","action","apiUrl","uploadChannelContract","with-credentials","on-success","handleSuccess","beforeUpload","beforeAvatarUpload","onError","uploadError","show-file-list","file-list","fileList","staticStyle","visibility","changeCheckStatus","preventDefault","min","checkedChange","checkedCities","city","_e","width","data","tableData","border","stripe","fixed","sortable","prop","formatter","format","min-width","class-name","scopedSlots","_u","fn","scope","exitEvent","row","current-page","page","currentPage","page-sizes","sizes","page-size","limit","layout","total","count","size-change","handleSizeChange","current-change","handleCurrentChange","update:currentPage","stopPropagation","exitImportTitle","domProps","innerHTML","importTitleTxt","staticRenderFns","esExports","B2il","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","n","_this","importTitleStatus","visibleMenuSelectStatus","cities","table_column","visible","col","marketingMode","status","$store","getters","findDingStatus","checkStatus","offset","menu_nav","model_value","options","isFirstEnter","activated","$route","meta","isBack","channelInfo","pageInfo","created","methods","_this2","$http","method","url","channelSearch","params","then","res","items","length","catch","error","console","log","_this3","channelConSearch","contractStatus","totalNums","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","index","indexOf","err","return","e","$router","push","path","query","channelContractId","response","file","$message","message","fileName","split","fileNameLen","extension","isLt2M","size","LL70","exports","version","sources","names","mappings","sourceRoot","W+Cn","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_channelContractMana_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_1ad74b5a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_channelContractMana_vue__","normalizeComponent","__vue_styles__","Component","s3R6","content","locals"],"mappings":"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","file":"js/69.1fff854725fb9f674cba.js","sourcesContent":["webpackJsonp([69],{\n\n/***/ \"AD+i\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"info_flow_content\",on:{\"click\":_vm.bodyEvent}},[_c('div',{staticClass:\"menuNav\"},[_c('p',[_c('i',{staticClass:\"nav_index\"}),_vm._l((_vm.menu_nav),function(c,i){return _c('span',{key:i},[_c('i',{staticClass:\"el-icon-arrow-right\"}),_c('em',[_vm._v(_vm._s(c))])])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"info_ad_search\"},[_c('div',{staticClass:\"info_a_s_content\"},[_c('div',{staticClass:\"customerProCitySearch\"},[_c('el-input',{staticClass:\"page_d_select\",attrs:{\"placeholder\":\"请输入合同编号或客户名称\"},model:{value:(_vm.contractNo),callback:function ($$v) {_vm.contractNo=$$v},expression:\"contractNo\"}}),_vm._v(\" \"),_c('el-button',{staticClass:\"page_d_s_button\",on:{\"click\":function($event){}}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('el-select',{staticClass:\"con_select unBorderRadius\",attrs:{\"placeholder\":_vm.channel_items.placeHolder},on:{\"change\":function($event){}},model:{value:(_vm.channel_items.model_value),callback:function ($$v) {_vm.$set(_vm.channel_items, \"model_value\", $$v)},expression:\"channel_items.model_value\"}},_vm._l((_vm.channel_items.options),function(item){return _c('el-option',{key:item.channelCode,attrs:{\"label\":item.name,\"value\":item.channelCode}})})),_vm._v(\" \"),_c('el-select',{staticClass:\"con_select unBorderRadius\",attrs:{\"placeholder\":_vm.contract_items.placeHolder},on:{\"change\":function($event){}},model:{value:(_vm.contract_items.model_value),callback:function ($$v) {_vm.$set(_vm.contract_items, \"model_value\", $$v)},expression:\"contract_items.model_value\"}},_vm._l((_vm.contract_items.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.val,\"value\":item.id}})})),_vm._v(\" \"),_c('el-button',{staticClass:\"page_d_s_button\",on:{\"click\":function($event){}}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('div',{staticClass:\"dateBut\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.newContract}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"新建合同\")]),_vm._v(\" \"),_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":_vm.apiUrl.uploadChannelContract,\"with-credentials\":true,\"on-success\":_vm.handleSuccess,\"beforeUpload\":_vm.beforeAvatarUpload,\"onError\":_vm.uploadError,\"show-file-list\":false,\"file-list\":_vm.fileList}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"导入合同\")])],1)],1)],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"info_ad_table\"},[_c('div',{staticClass:\"page_d_title\"},[_c('i',{staticStyle:{\"visibility\":\"hidden\"}}),_c('span'),_vm._v(\" \"),_c('div',{staticClass:\"tableVisibleMenu\"},[_c('p',{staticClass:\"visibleMenuBut\",on:{\"click\":function($event){_vm.changeCheckStatus($event)}}}),_vm._v(\" \"),(_vm.visibleMenuSelectStatus)?_c('div',{staticClass:\"visibleMenuSelect\",on:{\"click\":function($event){_vm.preventDefault($event)}}},[_c('el-checkbox-group',{attrs:{\"min\":1},on:{\"change\":_vm.checkedChange},model:{value:(_vm.checkedCities),callback:function ($$v) {_vm.checkedCities=$$v},expression:\"checkedCities\"}},_vm._l((_vm.cities),function(city){return _c('el-checkbox',{key:city,attrs:{\"label\":city}},[_vm._v(_vm._s(city))])}))],1):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"tableDetail\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"stripe\":\"\"}},[_vm._l((_vm.table_column),function(c,i){return (c.visible)?_c('el-table-column',{key:i,attrs:{\"fixed\":c.fixed,\"sortable\":c.sortable,\"prop\":c.prop,\"label\":c.label,\"formatter\":c.format,\"width\":\"\"}}):_vm._e()}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"查看合同\",\"width\":\"100\",\"min-width\":\"100\",\"class-name\":\"exitBut\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{on:{\"click\":function($event){_vm.exitEvent(scope.row.id)}}},[_c('i',{staticClass:\"el-icon-view\"})])]}}])})],2)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"con_pager\"},[_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.page.currentPage,\"page-sizes\":_vm.page.sizes,\"page-size\":_vm.page.limit,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.page.count},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.page, \"currentPage\", $event)}}})],1)]),_vm._v(\" \"),(_vm.importTitleStatus)?_c('div',{staticClass:\"importTitle\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"importTitle_top\"},[_c('span',[_vm._v(\"提示\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.exitImportTitle($event)}}},[_vm._v(\"×\")])]),_vm._v(\" \"),_c('div',{staticClass:\"importTitleTxt\",domProps:{\"innerHTML\":_vm._s(_vm.importTitleTxt)}})]):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"B2il\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(\"HzJ8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    data: function data() {\n        var _this = this;\n\n        return {\n            fileList: [],\n            importTitleStatus: false,\n            importTitleTxt: '',\n            visibleMenuSelectStatus: false,\n            checkedCities: ['序号', '合同编号', '渠道主体', '开始时间', '结束时间', '推广模式', '合同状态', '审核状态'],\n            cities: ['序号', '合同编号', '渠道主体', '开始时间', '结束时间', '推广模式', '合同状态', '审核状态'],\n            table_column: [{ fixed: true, prop: 'id', label: '序号', sortable: true, visible: true }, { fixed: false, prop: 'contractNo', label: '合同编号', sortable: false, visible: true }, { fixed: false, prop: 'channelName', label: '渠道主体', sortable: false, visible: true }, { fixed: false, prop: 'beginTime', label: '开始时间', sortable: false, visible: true }, { fixed: false, prop: 'endTime', label: '结束时间', sortable: false, visible: true }, { fixed: false, prop: 'marketingMode', label: '推广模式', sortable: false, visible: true, format: function format(row, col) {\n                    switch (row.marketingMode) {\n                        case '':\n                            return '-';break;\n                        case 'CA':\n                            return 'CPA';break;\n                        case 'CD':\n                            return 'CPD';break;\n                        case 'CM':\n                            return 'CPM';break;\n                        case 'CC':\n                            return 'CPC';break;\n                        case 'CS':\n                            return 'CPS';break;\n                        case 'CT':\n                            return 'CPT';break;\n                        case 'CP':\n                            return 'CPPA';break;\n                    }\n                } }, { fixed: false, prop: 'status', label: '合同状态', sortable: true, visible: true, format: function format(row, col) {\n                    switch (row.status) {\n                        case 0:\n                            return '-';break;\n                        case 1:\n                            return '正常';break;\n                        case 2:\n                            return '即将过期';break;\n                        case 3:\n                            return '已过期';break;\n                    }\n                } }, { fixed: false, prop: 'checkStatus', label: '审核状态', sortable: true, visible: true, format: function format(row, col) {\n                    return _this.$store.getters.findDingStatus(row.checkStatus) ? _this.$store.getters.findDingStatus(row.checkStatus).val : '未开始';\n                } }],\n            page: {\n                sizes: [10, 20, 30, 50, 100, 500],\n                offset: 1,\n                limit: 10,\n                count: 0,\n                currentPage: 1\n            },\n            menu_nav: ['CPA数据管理', '渠道合同管理'],\n            channel_items: {\n                model_value: '',\n                placeHolder: '渠道',\n                options: []\n            },\n            contract_items: {\n                model_value: '',\n                placeHolder: '状态',\n                options: [{\n                    id: '1',\n                    val: '正常'\n                }, {\n                    id: '2',\n                    val: '即将过期'\n                }, {\n                    id: '3',\n                    val: '已过期'\n                }]\n            },\n            tableData: [],\n            contractNo: '',\n            isFirstEnter: false // 是否第一次进入，默认false\n        };\n    },\n    activated: function activated() {\n        if (!this.$route.meta.isBack || this.isFirstEnter) {\n            // 如果isBack是false，表明需要获取新数据，否则就不再请求，直接使用缓存的数据\n            this.channelInfo();\n        }\n        // 恢复成默认的false，避免isBack一直是true，导致下次无法获取数据\n        this.$route.meta.isBack = false;\n        // 恢复成默认的false，避免isBack一直是true，导致每次都获取新数据\n        this.isFirstEnter = false;\n        this.pageInfo();\n    },\n    created: function created() {\n        this.isFirstEnter = true;\n    },\n\n    methods: {\n        channelInfo: function channelInfo() {\n            var _this2 = this;\n\n            /*渠道*/\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.channelSearch,\n                params: {\n                    offset: 1,\n                    limit: 9999,\n                    val: ''\n                }\n            }).then(function (res) {\n                //                    console.log(res);\n                if (res.status == 200) {\n                    var data = res.data;\n                    data.items.length > 0 ? _this2.channel_items.options = data.items : null;\n                } else {\n                    //                        console.log('');\n                }\n            }).catch(function (error) {\n                console.log(error);\n            });\n        },\n        pageInfo: function pageInfo() {\n            var _this3 = this;\n\n            /*合同列表*/\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.channelConSearch,\n                params: {\n                    offset: this.page.offset,\n                    limit: this.page.limit,\n                    contractNo: this.contractNo,\n                    channelCode: this.channel_items.model_value,\n                    contractStatus: this.contract_items.model_value\n                }\n            }).then(function (res) {\n                if (res.status == 200) {\n                    var data = res.data;\n                    _this3.page.count = data.totalNums;\n                    _this3.tableData = data.items;\n                } else {\n                    //                        console.log('');\n                }\n            }).catch(function (error) {\n                console.log(error);\n            });\n        },\n        handleCurrentChange: function handleCurrentChange(val) {\n            this.page.offset = val;\n            this.pageInfo();\n        },\n        handleSizeChange: function handleSizeChange(val) {\n            this.page.limit = val;\n            this.pageInfo();\n        },\n        checkedChange: function checkedChange() {\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(this.table_column), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var item = _step.value;\n\n                    var index = this.checkedCities.indexOf(item.label);\n                    index >= 0 ? item.visible = true : item.visible = false;\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        },\n        changeCheckStatus: function changeCheckStatus(e) {\n            e.stopPropagation();\n            this.visibleMenuSelectStatus = !this.visibleMenuSelectStatus;\n        },\n        newContract: function newContract() {\n            this.$router.push({ path: 'channelContractNew', query: { channelContractId: '' } });\n        },\n        bodyEvent: function bodyEvent() {\n            this.visibleMenuSelectStatus = false;\n        },\n        preventDefault: function preventDefault(e) {\n            e.stopPropagation();\n        },\n        exitEvent: function exitEvent(id) {\n            this.$router.push({ path: 'channelContractNew', query: { channelContractId: id } });\n        },\n        handleSuccess: function handleSuccess(response, file, fileList) {\n            this.importTitleTxt = response;\n            this.importTitleStatus = true;\n        },\n\n        // 上传错误\n        uploadError: function uploadError(err, file, fileList) {\n            this.$message({\n                type: 'error',\n                message: '上传失败，请重试'\n            });\n        },\n\n        // 上传前对文件的大小的判断\n        beforeAvatarUpload: function beforeAvatarUpload(file) {\n            var fileName = file.name.split('.');\n            var fileNameLen = fileName.length - 1;\n            var extension = fileName[fileNameLen] === 'csv';\n            var isLt2M = file.size / 1024 / 1024 < 2;\n            if (!extension) {\n                this.$message({\n                    type: 'info',\n                    message: '上传渠道包只能是 csv 格式'\n                });\n            }\n            if (!isLt2M) {\n                this.$message({\n                    type: 'info',\n                    message: '上传包大小不能超过 2MB'\n                });\n            }\n            return extension && isLt2M;\n        },\n        exitImportTitle: function exitImportTitle() {\n            this.importTitleStatus = false;\n            this.pageInfo();\n        }\n    }\n});\n\n/***/ }),\n\n/***/ \"LL70\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"UTlt\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"channelContractMana.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"W+Cn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_channelContractMana_vue__ = __webpack_require__(\"B2il\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_1ad74b5a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_channelContractMana_vue__ = __webpack_require__(\"AD+i\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"s3R6\")\n}\nvar normalizeComponent = __webpack_require__(\"vSla\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_channelContractMana_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_1ad74b5a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_channelContractMana_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"s3R6\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"LL70\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"FIqI\")(\"4b687f42\", content, true, {});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/69.1fff854725fb9f674cba.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"info_flow_content\",on:{\"click\":_vm.bodyEvent}},[_c('div',{staticClass:\"menuNav\"},[_c('p',[_c('i',{staticClass:\"nav_index\"}),_vm._l((_vm.menu_nav),function(c,i){return _c('span',{key:i},[_c('i',{staticClass:\"el-icon-arrow-right\"}),_c('em',[_vm._v(_vm._s(c))])])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"info_ad_search\"},[_c('div',{staticClass:\"info_a_s_content\"},[_c('div',{staticClass:\"customerProCitySearch\"},[_c('el-input',{staticClass:\"page_d_select\",attrs:{\"placeholder\":\"请输入合同编号或客户名称\"},model:{value:(_vm.contractNo),callback:function ($$v) {_vm.contractNo=$$v},expression:\"contractNo\"}}),_vm._v(\" \"),_c('el-button',{staticClass:\"page_d_s_button\",on:{\"click\":function($event){}}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('el-select',{staticClass:\"con_select unBorderRadius\",attrs:{\"placeholder\":_vm.channel_items.placeHolder},on:{\"change\":function($event){}},model:{value:(_vm.channel_items.model_value),callback:function ($$v) {_vm.$set(_vm.channel_items, \"model_value\", $$v)},expression:\"channel_items.model_value\"}},_vm._l((_vm.channel_items.options),function(item){return _c('el-option',{key:item.channelCode,attrs:{\"label\":item.name,\"value\":item.channelCode}})})),_vm._v(\" \"),_c('el-select',{staticClass:\"con_select unBorderRadius\",attrs:{\"placeholder\":_vm.contract_items.placeHolder},on:{\"change\":function($event){}},model:{value:(_vm.contract_items.model_value),callback:function ($$v) {_vm.$set(_vm.contract_items, \"model_value\", $$v)},expression:\"contract_items.model_value\"}},_vm._l((_vm.contract_items.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.val,\"value\":item.id}})})),_vm._v(\" \"),_c('el-button',{staticClass:\"page_d_s_button\",on:{\"click\":function($event){}}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('div',{staticClass:\"dateBut\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.newContract}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"新建合同\")]),_vm._v(\" \"),_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":_vm.apiUrl.uploadChannelContract,\"with-credentials\":true,\"on-success\":_vm.handleSuccess,\"beforeUpload\":_vm.beforeAvatarUpload,\"onError\":_vm.uploadError,\"show-file-list\":false,\"file-list\":_vm.fileList}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"导入合同\")])],1)],1)],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"info_ad_table\"},[_c('div',{staticClass:\"page_d_title\"},[_c('i',{staticStyle:{\"visibility\":\"hidden\"}}),_c('span'),_vm._v(\" \"),_c('div',{staticClass:\"tableVisibleMenu\"},[_c('p',{staticClass:\"visibleMenuBut\",on:{\"click\":function($event){_vm.changeCheckStatus($event)}}}),_vm._v(\" \"),(_vm.visibleMenuSelectStatus)?_c('div',{staticClass:\"visibleMenuSelect\",on:{\"click\":function($event){_vm.preventDefault($event)}}},[_c('el-checkbox-group',{attrs:{\"min\":1},on:{\"change\":_vm.checkedChange},model:{value:(_vm.checkedCities),callback:function ($$v) {_vm.checkedCities=$$v},expression:\"checkedCities\"}},_vm._l((_vm.cities),function(city){return _c('el-checkbox',{key:city,attrs:{\"label\":city}},[_vm._v(_vm._s(city))])}))],1):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"tableDetail\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"stripe\":\"\"}},[_vm._l((_vm.table_column),function(c,i){return (c.visible)?_c('el-table-column',{key:i,attrs:{\"fixed\":c.fixed,\"sortable\":c.sortable,\"prop\":c.prop,\"label\":c.label,\"formatter\":c.format,\"width\":\"\"}}):_vm._e()}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"查看合同\",\"width\":\"100\",\"min-width\":\"100\",\"class-name\":\"exitBut\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{on:{\"click\":function($event){_vm.exitEvent(scope.row.id)}}},[_c('i',{staticClass:\"el-icon-view\"})])]}}])})],2)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"con_pager\"},[_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.page.currentPage,\"page-sizes\":_vm.page.sizes,\"page-size\":_vm.page.limit,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.page.count},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.page, \"currentPage\", $event)}}})],1)]),_vm._v(\" \"),(_vm.importTitleStatus)?_c('div',{staticClass:\"importTitle\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"importTitle_top\"},[_c('span',[_vm._v(\"提示\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.exitImportTitle($event)}}},[_vm._v(\"×\")])]),_vm._v(\" \"),_c('div',{staticClass:\"importTitleTxt\",domProps:{\"innerHTML\":_vm._s(_vm.importTitleTxt)}})]):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-1ad74b5a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/cpaDataMana/channelContractMana.vue\n// module id = AD+i\n// module chunks = 69","<style rel=\"stylesheet/scss\" lang=\"scss\">\n\n\n</style>\n\n<template>\n    <div>\n        <div class=\"info_flow_content\" @click=\"bodyEvent\">\n            <div class=\"menuNav\">\n                <p><i class=\"nav_index\"></i><span v-for=\"(c, i) in menu_nav\" :key=\"i\"><i\n                    class=\"el-icon-arrow-right\"></i><em>{{c}}</em></span></p>\n            </div>\n            <div class=\"info_ad_search\">\n                <div class=\"info_a_s_content\">\n                    <div class=\"customerProCitySearch\">\n                        <el-input v-model=\"contractNo\" class=\"page_d_select\" placeholder=\"请输入合同编号或客户名称\"></el-input><!--\n\t\t\t\t\t  -->\n                        <el-button class=\"page_d_s_button\" @click=\"\">搜索</el-button>\n                        <el-select v-model=\"channel_items.model_value\"\n                                   :placeholder=\"channel_items.placeHolder\" class=\"con_select unBorderRadius\"\n                                   @change=\"\">\n                            <el-option\n                                v-for=\"item in channel_items.options\"\n                                :key=\"item.channelCode \"\n                                :label=\"item.name\"\n                                :value=\"item.channelCode \">\n                            </el-option>\n                        </el-select>\n                        <el-select v-model=\"contract_items.model_value\"\n                                   :placeholder=\"contract_items.placeHolder\" class=\"con_select unBorderRadius\"\n                                   @change=\"\">\n                            <el-option\n                                v-for=\"item in contract_items.options\"\n                                :key=\"item.id\"\n                                :label=\"item.val\"\n                                :value=\"item.id\">\n                            </el-option>\n                        </el-select>\n                        <el-button class=\"page_d_s_button\" @click=\"\">查询</el-button>\n                        <div class=\"dateBut\">\n                            <el-button type=\"primary\" @click=\"newContract\"><i class=\"el-icon-plus\"></i>新建合同</el-button>\n                            <el-upload\n                                class=\"upload-demo\"\n                                :action=\"apiUrl.uploadChannelContract\"\n                                :with-credentials=\"true\"\n                                :on-success=\"handleSuccess\"\n                                :beforeUpload=\"beforeAvatarUpload\"\n                                :onError=\"uploadError\"\n                                :show-file-list=\"false\"\n                                :file-list=\"fileList\">\n                                <el-button type=\"primary\"><i class=\"el-icon-plus\"></i>导入合同</el-button>\n                            </el-upload>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"info_ad_table\">\n                <div class=\"page_d_title\">\n                    <i style=\"visibility:hidden;\"></i><span></span>\n                    <div class=\"tableVisibleMenu\">\n                        <p class=\"visibleMenuBut\" @click=\"changeCheckStatus($event)\"></p>\n                        <div class=\"visibleMenuSelect\" v-if=\"visibleMenuSelectStatus\" @click=\"preventDefault($event)\">\n                            <el-checkbox-group\n                                v-model=\"checkedCities\"\n                                :min=\"1\"\n                                @change=\"checkedChange\">\n                                <el-checkbox v-for=\"city in cities\" :label=\"city\" :key=\"city\">{{city}}</el-checkbox>\n                            </el-checkbox-group>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"tableDetail\">\n                    <el-table\n                        :data=\"tableData\"\n                        border\n                        stripe\n                        style=\"width: 100%\"\n                    >\n                        <el-table-column\n                            v-for=\"(c, i) in table_column\"\n                            :key=\"i\"\n                            :fixed=\"c.fixed\"\n                            :sortable=\"c.sortable\"\n                            :prop=\"c.prop\"\n                            :label=\"c.label\"\n                            :formatter=\"c.format\"\n                            width=\"\"\n                            v-if=\"c.visible\">\n                        </el-table-column>\n                        <el-table-column\n                            fixed=\"right\"\n                            label=\"查看合同\"\n                            width=\"100\"\n                            min-width=\"100\"\n                            class-name=\"exitBut\">\n                            <template slot-scope=\"scope\">\n                                <div @click=\"exitEvent(scope.row.id)\"><i class=\"el-icon-view\"></i></div>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </div>\n            </div>\n            <div class=\"con_pager\">\n                <div class=\"block\">\n                    <!--<span class=\"demonstration\">直接前往</span>-->\n                    <el-pagination\n                        @size-change=\"handleSizeChange\"\n                        @current-change=\"handleCurrentChange\"\n                        :current-page.sync=\"page.currentPage\"\n                        :page-sizes=\"page.sizes\"\n                        :page-size=\"page.limit\"\n                        layout=\"total, sizes, prev, pager, next, jumper\"\n                        :total=\"page.count\">\n                    </el-pagination>\n                </div>\n            </div>\n            <div class=\"importTitle\" v-if=\"importTitleStatus\" @click.stop=\"\">\n                <div class=\"importTitle_top\">\n                    <span>提示</span>\n                    <button @click.stop=\"exitImportTitle\">×</button>\n                </div>\n                <div class=\"importTitleTxt\" v-html=\"importTitleTxt\"></div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        data() {\n            return {\n                fileList: [],\n                importTitleStatus: false,\n                importTitleTxt: '',\n                visibleMenuSelectStatus: false,\n                checkedCities: ['序号', '合同编号', '渠道主体', '开始时间', '结束时间', '推广模式', '合同状态', '审核状态'],\n                cities: ['序号', '合同编号', '渠道主体', '开始时间', '结束时间', '推广模式', '合同状态', '审核状态'],\n                table_column: [\n                    {fixed: true, prop: 'id', label: '序号', sortable: true, visible: true},\n                    {fixed: false, prop: 'contractNo', label: '合同编号', sortable: false, visible: true},\n                    {fixed: false, prop: 'channelName', label: '渠道主体', sortable: false, visible: true},\n                    {fixed: false, prop: 'beginTime', label: '开始时间', sortable: false, visible: true},\n                    {fixed: false, prop: 'endTime', label: '结束时间', sortable: false, visible: true},\n                    {fixed: false, prop: 'marketingMode', label: '推广模式', sortable: false, visible: true,format:function(row,col){\n                        switch (row.marketingMode){\n                            case '':return '-';break;\n                            case 'CA':return 'CPA';break;\n                            case 'CD':return 'CPD';break;\n                            case 'CM':return 'CPM';break;\n                            case 'CC':return 'CPC';break;\n                            case 'CS':return 'CPS';break;\n                            case 'CT':return 'CPT';break;\n                            case 'CP':return 'CPPA';break;\n                        }\n                    }},\n                    {fixed: false, prop: 'status', label: '合同状态', sortable: true, visible: true,format:function(row,col){\n                        switch (row.status){\n                            case 0:return '-';break;\n                            case 1:return '正常';break;\n                            case 2:return '即将过期';break;\n                            case 3:return '已过期';break;\n                        }\n                    }},\n                    {fixed: false, prop: 'checkStatus', label: '审核状态', sortable: true, visible: true,format:(row,col)=>{\n                        return this.$store.getters.findDingStatus(row.checkStatus)?this.$store.getters.findDingStatus(row.checkStatus).val:'未开始';\n                    }},\n                ],\n                page: {\n                    sizes: [10, 20, 30, 50,100,500],\n                    offset: 1,\n                    limit: 10,\n                    count: 0,\n                    currentPage: 1,\n                },\n                menu_nav: ['CPA数据管理', '渠道合同管理'\n                ],\n                channel_items: {\n                    model_value: '',\n                    placeHolder: '渠道',\n                    options: [\n                    ]\n                },\n                contract_items: {\n                    model_value: '',\n                    placeHolder: '状态',\n                    options: [\n                        {\n                            id: '1',\n                            val: '正常'\n                        },\n                        {\n                            id: '2',\n                            val: '即将过期'\n                        },\n                        {\n                            id: '3',\n                            val: '已过期'\n                        },\n                    ]\n                },\n                tableData: [\n                ],\n                contractNo:'',\n                isFirstEnter:false, // 是否第一次进入，默认false\n            };\n        },\n        activated() {\n            if(!this.$route.meta.isBack|| this.isFirstEnter){\n                // 如果isBack是false，表明需要获取新数据，否则就不再请求，直接使用缓存的数据\n                this.channelInfo();\n            }\n            // 恢复成默认的false，避免isBack一直是true，导致下次无法获取数据\n            this.$route.meta.isBack=false;\n            // 恢复成默认的false，避免isBack一直是true，导致每次都获取新数据\n            this.isFirstEnter=false;\n            this.pageInfo();\n        },\n        created() {\n            this.isFirstEnter=true;\n        },\n        methods: {\n            channelInfo() {\n                /*渠道*/\n                this.$http({\n                    method: 'get',\n                    url: this.apiUrl.channelSearch,\n                    params: {\n                        offset: 1,\n                        limit: 9999,\n                        val: '',\n                    }\n                }).then(res => {\n//                    console.log(res);\n                    if (res.status == 200) {\n                        var data = res.data;\n                        data.items.length > 0 ? this.channel_items.options = data.items : null;\n                    } else {\n//                        console.log('');\n                    }\n                }).catch(error => {\n                    console.log(error);\n                });\n            },\n            pageInfo(){\n                /*合同列表*/\n                this.$http({\n                    method: 'get',\n                    url: this.apiUrl.channelConSearch,\n                    params: {\n                        offset: this.page.offset,\n                        limit: this.page.limit,\n                        contractNo: this.contractNo,\n                        channelCode: this.channel_items.model_value,\n                        contractStatus: this.contract_items.model_value,\n                    }\n                }).then(res => {\n                    if (res.status == 200) {\n                        var data = res.data;\n                        this.page.count = data.totalNums;\n                        this.tableData = data.items;\n                    } else {\n//                        console.log('');\n                    }\n                }).catch(error => {\n                    console.log(error);\n                });\n            },\n            handleCurrentChange(val) {\n                this.page.offset = val;\n                this.pageInfo();\n            },\n            handleSizeChange(val) {\n                this.page.limit = val;\n                this.pageInfo();\n            },\n            checkedChange() {\n                for (let item of this.table_column) {\n                    var index = this.checkedCities.indexOf(item.label);\n                    index >= 0 ? item.visible = true : item.visible = false;\n                }\n            },\n            changeCheckStatus(e) {\n                e.stopPropagation();\n                this.visibleMenuSelectStatus = !this.visibleMenuSelectStatus;\n            },\n            newContract() {\n                this.$router.push({path: 'channelContractNew', query: {channelContractId: ''}});\n            },\n            bodyEvent() {\n                this.visibleMenuSelectStatus = false;\n            },\n            preventDefault(e) {\n                e.stopPropagation();\n            },\n            exitEvent(id) {\n                this.$router.push({path: 'channelContractNew', query: {channelContractId: id}});\n            },\n            handleSuccess(response, file, fileList) {\n                this.importTitleTxt = response;\n                this.importTitleStatus = true;\n            },\n            // 上传错误\n            uploadError(err, file, fileList) {\n                this.$message({\n                    type: 'error',\n                    message: '上传失败，请重试'\n                });\n            },\n            // 上传前对文件的大小的判断\n            beforeAvatarUpload(file) {\n                var fileName = file.name.split('.');\n                var fileNameLen = fileName.length - 1;\n                const extension = fileName[fileNameLen] === 'csv';\n                const isLt2M = file.size / 1024 / 1024 < 2;\n                if (!extension) {\n                    this.$message({\n                        type: 'info',\n                        message: '上传渠道包只能是 csv 格式'\n                    });\n                }\n                if (!isLt2M) {\n                    this.$message({\n                        type: 'info',\n                        message: '上传包大小不能超过 2MB'\n                    });\n                }\n                return extension && isLt2M;\n            },\n            exitImportTitle() {\n                this.importTitleStatus=false;\n                this.pageInfo();\n            },\n        }\n    };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/cpaDataMana/channelContractMana.vue","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"channelContractMana.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1ad74b5a\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/cpaDataMana/channelContractMana.vue\n// module id = LL70\n// module chunks = 69","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ad74b5a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./channelContractMana.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./channelContractMana.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./channelContractMana.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ad74b5a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./channelContractMana.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/cpaDataMana/channelContractMana.vue\n// module id = W+Cn\n// module chunks = 69","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ad74b5a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./channelContractMana.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"4b687f42\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1ad74b5a\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/cpaDataMana/channelContractMana.vue\n// module id = s3R6\n// module chunks = 69"],"sourceRoot":""}