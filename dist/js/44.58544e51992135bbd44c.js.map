{"version":3,"sources":["webpack:///js/44.58544e51992135bbd44c.js","webpack:///./src/views/imgTemplate/templateInput.vue?3b1e","webpack:///./src/views/imgTemplate/templateInput.vue?2d26","webpack:///src/views/imgTemplate/templateInput.vue","webpack:///./src/views/imgTemplate/templateInput.vue?20e3","webpack:///./src/views/imgTemplate/templateInput.vue"],"names":["webpackJsonp","+LlI","module","exports","__webpack_require__","content","i","locals","BP65","__webpack_exports__","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","ref","attrs","model","template_from","label-width","label","filterable","allow-create","placeholder","value","callback","$$v","$set","expression","_l","item","key","id","val","disabled","templateDisable","action","apiUrl","uploadImgUrl","on-success","handleSuccess","on-remove","handleRemove","beforeUpload","beforeAvatarUpload","onError","uploadError","with-credentials","file-list","fileList","size","type","slot","class","none","showType","on","click","onSubmit","_s","but_text","$event","go_back","img_src","src","replace","saveAlt","status","date","deleteTemplate","_e","staticRenderFns","esExports","O0WB","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","n","data","templateType","productID","designerID","templateName","intervalTime","lastFrameStop","picUrls","templateId","type_options","created","sessionStorage","userType","userId","pageInfo","methods","_this","$http","method","url","getListUrl","params","then","res","list","console","log","msg","catch","error","$route","query","decodeURIComponent","templateGetUrl","picSort","newArr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","push","name","picSubName","err","return","_this2","length","pic_sort","nowUrl","templateUpdateUrl","templateNewUrl","Date","toLocaleString","$message","message","file","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","response","fileName","split","fileNameLen","extension","extension2","extension3","isLt2M","_this3","$confirm","confirmButtonText","cancelButtonText","templateDelUrl","$router","path","back","bOWV","version","sources","names","mappings","sourcesContent","sourceRoot","dXD8","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_templateInput_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_8113a9c2_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_templateInput_vue__","normalizeComponent","__vue_styles__","Component"],"mappings":"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","file":"js/44.58544e51992135bbd44c.js","sourcesContent":["webpackJsonp([44],{\n\n/***/ \"+LlI\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"bOWV\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"FIqI\")(\"700fcaf8\", content, true, {});\n\n/***/ }),\n\n/***/ \"BP65\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"template_input\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"page_d_con\"},[_c('div',{staticClass:\"page_d_con_left\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.template_from,\"label-width\":\"125px\"}},[_c('el-form-item',{attrs:{\"label\":\"类型：\"}},[_c('el-select',{staticClass:\"f_select4\",attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.template_from.templateType),callback:function ($$v) {_vm.$set(_vm.template_from, \"templateType\", $$v)},expression:\"template_from.templateType\"}},_vm._l((_vm.type_options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.val,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"模板名称：\"}},[_c('el-input',{staticClass:\"f_input4\",attrs:{\"disabled\":_vm.templateDisable},model:{value:(_vm.template_from.templateName),callback:function ($$v) {_vm.$set(_vm.template_from, \"templateName\", $$v)},expression:\"template_from.templateName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"展示形式：\"}},[_c('el-radio-group',{staticClass:\"f_radio1\",model:{value:(_vm.template_from.showType),callback:function ($$v) {_vm.$set(_vm.template_from, \"showType\", $$v)},expression:\"template_from.showType\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"平铺\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"轮播\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"upload_img\",attrs:{\"label\":\"上传图片：\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":_vm.apiUrl.uploadImgUrl,\"on-success\":_vm.handleSuccess,\"on-remove\":_vm.handleRemove,\"beforeUpload\":_vm.beforeAvatarUpload,\"onError\":_vm.uploadError,\"with-credentials\":true,\"file-list\":_vm.fileList}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png/gif文件，且不超过2MB\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{class:{none:_vm.template_from.showType=='1'?true:false},attrs:{\"label\":\"轮播间隔：\"}},[_c('el-select',{staticClass:\"f_select2 clear_f_select2\",attrs:{\"placeholder\":\"500\"},model:{value:(_vm.template_from.intervalTime),callback:function ($$v) {_vm.$set(_vm.template_from, \"intervalTime\", $$v)},expression:\"template_from.intervalTime\"}},[_c('el-option',{attrs:{\"label\":300,\"value\":\"300\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":400,\"value\":\"400\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":500,\"value\":\"500\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":600,\"value\":\"600\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":700,\"value\":\"700\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"lunbo\",class:{none:_vm.template_from.showType=='1'?true:false},attrs:{\"label\":\"轮播最后一帧停止：\"}},[_c('el-radio-group',{model:{value:(_vm.template_from.lastFrameStop),callback:function ($$v) {_vm.$set(_vm.template_from, \"lastFrameStop\", $$v)},expression:\"template_from.lastFrameStop\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"form_button\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(_vm._s(_vm.but_text))]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.go_back()}}},[_vm._v(\"返回\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"page_d_con_right\"},[_c('div',{staticClass:\"page_d_current page_create_current\"},[_c('div',{staticClass:\"current_page_title create_page_title\"},[_vm._v(\"落地页预览\")]),_vm._v(\" \"),_c('div',{staticClass:\"current_img\"},_vm._l((_vm.template_from.picUrls),function(img_src){return _c('img',{staticClass:\"image\",attrs:{\"src\":img_src.replace(/^\\d+@#@/g,'').replace(/8888/g,'8080')}})}))]),_vm._v(\" \"),_c('div',{staticClass:\"page_d_alt\",class:{none:!_vm.saveAlt.status}},[_vm._v(\"\\n                        提示：保存已生效，生效时间：\"),_c('span',[_vm._v(_vm._s(_vm.saveAlt.date))])]),_vm._v(\" \"),_c('p',{staticClass:\"edit delete\"},[(_vm.templateDisable)?_c('button',{staticClass:\"el-button button el-button--primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.deleteTemplate}},[_c('span',[_vm._v(\"删除\")])]):_vm._e()])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page_d_title\"},[_c('i'),_c('span',[_vm._v(\"模板录入\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"O0WB\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(\"HzJ8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    data: function data() {\n        return {\n            but_text: '创建',\n            template_from: {\n                id: '',\n                type: '2',\n                templateType: '',\n                productID: '',\n                designerID: '',\n                templateName: '',\n                showType: 1,\n                intervalTime: '500',\n                lastFrameStop: 0,\n                picUrls: []\n            },\n            templateId: '',\n            templateDisable: false,\n            saveAlt: {\n                status: false,\n                date: ''\n            },\n            fileList: [],\n            type_options: [{\n                id: '1',\n                val: '设计1'\n            }, {\n                id: '2',\n                val: '设计2'\n            }, {\n                id: '3',\n                val: '设计3'\n            }, {\n                id: '4',\n                val: '设计4'\n            }, {\n                id: '5',\n                val: '设计5'\n            }]\n        };\n    },\n    created: function created() {\n        this.template_from.designerID = sessionStorage.userType == '2' ? sessionStorage.userId : '';\n        this.pageInfo();\n    },\n\n    methods: {\n        pageInfo: function pageInfo() {\n            var _this = this;\n\n            /*类型*/\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.getListUrl,\n                params: { type: '2' }\n            }).then(function (res) {\n                //                    console.log(res);\n                var data = res.data;\n                if (data.status == 1) {\n                    _this.type_options = data.list;\n                } else {\n                    console.log(data.msg);\n                }\n            }).catch(function (error) {\n                console.log(error);\n            });\n            /*编辑模板*/\n            if (this.$route.query.templateId != '') {\n                this.templateDisable = true;\n                this.templateId = decodeURIComponent(this.$route.query.templateId);\n                this.but_text = '保存';\n                this.$http({\n                    method: 'get',\n                    url: this.apiUrl.templateGetUrl,\n                    params: { id: this.templateId }\n                }).then(function (res) {\n                    //                        console.log(res);\n                    if (res.status == 200) {\n                        _this.template_from = res.data;\n                        _this.template_from.picUrls = _this.picSort(_this.template_from.picUrls, '@#@');\n                        var newArr = [];\n                        var _iteratorNormalCompletion = true;\n                        var _didIteratorError = false;\n                        var _iteratorError = undefined;\n\n                        try {\n                            for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(_this.template_from.picUrls), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                                var url = _step.value;\n\n                                newArr.push({ name: _this.picSubName(url), url: url });\n                            }\n                        } catch (err) {\n                            _didIteratorError = true;\n                            _iteratorError = err;\n                        } finally {\n                            try {\n                                if (!_iteratorNormalCompletion && _iterator.return) {\n                                    _iterator.return();\n                                }\n                            } finally {\n                                if (_didIteratorError) {\n                                    throw _iteratorError;\n                                }\n                            }\n                        }\n\n                        _this.fileList = newArr;\n                    } else {\n                        //                            alert(data.msg);\n                    }\n                }).catch(function (error) {\n                    console.log(error);\n                });\n            }\n        },\n        onSubmit: function onSubmit() {\n            var _this2 = this;\n\n            if (this.template_from.picUrls.length > 0) {\n                this.template_from.picUrls = this.pic_sort(this.template_from.picUrls);\n                this.but_text == '保存' ? this.template_from.id = this.templateId : null;\n                var nowUrl = '';\n                nowUrl = this.but_text == '保存' ? this.apiUrl.templateUpdateUrl : this.apiUrl.templateNewUrl;\n                this.$http({\n                    method: 'post',\n                    url: nowUrl,\n                    data: this.template_from\n                }).then(function (res) {\n                    //                        console.log(res);\n                    var data = res.data;\n                    if (data.status == 1) {\n                        _this2.saveAlt.status = true;\n                        _this2.saveAlt.date = new Date().toLocaleString();\n                        _this2.$message({\n                            type: 'success',\n                            message: '操作成功'\n                        });\n                    } else {\n                        _this2.$message({\n                            type: 'error',\n                            message: '操作失败'\n                        });\n                    }\n                }).catch(function (error) {\n                    console.log(error);\n                });\n            } else {\n                this.$message({\n                    type: 'info',\n                    message: '请上传图片'\n                });\n            }\n        },\n        handleRemove: function handleRemove(file, fileList) {\n            this.template_from.picUrls = [];\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(fileList), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var item = _step2.value;\n\n                    if (item.response) {\n                        this.template_from.picUrls.push(item.response.url);\n                    } else {\n                        this.template_from.picUrls.push(item.url);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n        },\n        handleSuccess: function handleSuccess(response, file, fileList) {\n            //                console.log(fileList);\n            //                this.template_from.picUrls = [];\n            //                for (let item of fileList) {\n            this.template_from.picUrls.push(response.url);\n            //                }\n            //                console.log(this.template_from.picUrls);\n        },\n\n        // 上传错误\n        uploadError: function uploadError(response, file, fileList) {\n            this.$message({\n                type: 'error',\n                message: '上传失败，请重试'\n            });\n        },\n\n        // 上传前对文件的大小的判断\n        beforeAvatarUpload: function beforeAvatarUpload(file) {\n            var fileName = file.name.split('.');\n            var fileNameLen = fileName.length - 1;\n            var extension = fileName[fileNameLen] === 'jpg';\n            var extension2 = fileName[fileNameLen] === 'gif';\n            var extension3 = fileName[fileNameLen] === 'png';\n            var isLt2M = file.size / 1024 / 1024 < 2;\n            if (!extension && !extension2 && !extension3) {\n                this.$message({\n                    type: 'info',\n                    message: '上传模板只能是 jpg、gif、png 格式'\n                });\n            }\n            if (!isLt2M) {\n                this.$message({\n                    type: 'info',\n                    message: '上传图片大小不能超过 2MB'\n                });\n            }\n            return extension || extension2 || extension3 && isLt2M;\n        },\n        deleteTemplate: function deleteTemplate() {\n            var _this3 = this;\n\n            //                console.log(this.templateId);\n            this.$confirm('此操作将永久删除该模板, 是否继续?', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(function () {\n                _this3.$http({\n                    method: 'delete',\n                    url: _this3.apiUrl.templateDelUrl,\n                    params: { id: _this3.templateId }\n                }).then(function (res) {\n                    //                        console.log(res);\n                    var data = res.data;\n                    if (data.status == 1) {\n                        _this3.$message({\n                            type: 'success',\n                            message: '删除成功'\n                        });\n                        _this3.$router.push({\n                            path: 'templateList'\n                        });\n                    } else {\n                        _this3.$message({\n                            type: 'error',\n                            message: '模板正在使用，删除失败'\n                        });\n                    }\n                }).catch(function (error) {\n                    _this3.$message({\n                        type: 'error',\n                        message: '删除失败'\n                    });\n                });\n            }).catch(function () {\n                _this3.$message({\n                    type: 'info',\n                    message: '已取消删除'\n                });\n            });\n        },\n        go_back: function go_back() {\n            this.$router.back();\n        }\n    }\n});\n\n/***/ }),\n\n/***/ \"bOWV\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"UTlt\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".template_input .f_select2 .el-input__inner{width:56px}\", \"\", {\"version\":3,\"sources\":[\"/Users/pby/dev/cmsweb/src/views/imgTemplate/templateInput.vue\"],\"names\":[],\"mappings\":\"AACA,4CACE,UAAY,CACb\",\"file\":\"templateInput.vue\",\"sourcesContent\":[\"\\n.template_input .f_select2 .el-input__inner {\\n  width: 56px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"dXD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_templateInput_vue__ = __webpack_require__(\"O0WB\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_8113a9c2_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_templateInput_vue__ = __webpack_require__(\"BP65\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"+LlI\")\n}\nvar normalizeComponent = __webpack_require__(\"vSla\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_templateInput_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_8113a9c2_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_templateInput_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/44.58544e51992135bbd44c.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8113a9c2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./templateInput.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"700fcaf8\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-8113a9c2\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/imgTemplate/templateInput.vue\n// module id = +LlI\n// module chunks = 44","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"template_input\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"page_d_con\"},[_c('div',{staticClass:\"page_d_con_left\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.template_from,\"label-width\":\"125px\"}},[_c('el-form-item',{attrs:{\"label\":\"类型：\"}},[_c('el-select',{staticClass:\"f_select4\",attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.template_from.templateType),callback:function ($$v) {_vm.$set(_vm.template_from, \"templateType\", $$v)},expression:\"template_from.templateType\"}},_vm._l((_vm.type_options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.val,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"模板名称：\"}},[_c('el-input',{staticClass:\"f_input4\",attrs:{\"disabled\":_vm.templateDisable},model:{value:(_vm.template_from.templateName),callback:function ($$v) {_vm.$set(_vm.template_from, \"templateName\", $$v)},expression:\"template_from.templateName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"展示形式：\"}},[_c('el-radio-group',{staticClass:\"f_radio1\",model:{value:(_vm.template_from.showType),callback:function ($$v) {_vm.$set(_vm.template_from, \"showType\", $$v)},expression:\"template_from.showType\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"平铺\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"轮播\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"upload_img\",attrs:{\"label\":\"上传图片：\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":_vm.apiUrl.uploadImgUrl,\"on-success\":_vm.handleSuccess,\"on-remove\":_vm.handleRemove,\"beforeUpload\":_vm.beforeAvatarUpload,\"onError\":_vm.uploadError,\"with-credentials\":true,\"file-list\":_vm.fileList}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png/gif文件，且不超过2MB\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{class:{none:_vm.template_from.showType=='1'?true:false},attrs:{\"label\":\"轮播间隔：\"}},[_c('el-select',{staticClass:\"f_select2 clear_f_select2\",attrs:{\"placeholder\":\"500\"},model:{value:(_vm.template_from.intervalTime),callback:function ($$v) {_vm.$set(_vm.template_from, \"intervalTime\", $$v)},expression:\"template_from.intervalTime\"}},[_c('el-option',{attrs:{\"label\":300,\"value\":\"300\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":400,\"value\":\"400\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":500,\"value\":\"500\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":600,\"value\":\"600\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":700,\"value\":\"700\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"lunbo\",class:{none:_vm.template_from.showType=='1'?true:false},attrs:{\"label\":\"轮播最后一帧停止：\"}},[_c('el-radio-group',{model:{value:(_vm.template_from.lastFrameStop),callback:function ($$v) {_vm.$set(_vm.template_from, \"lastFrameStop\", $$v)},expression:\"template_from.lastFrameStop\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"form_button\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(_vm._s(_vm.but_text))]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.go_back()}}},[_vm._v(\"返回\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"page_d_con_right\"},[_c('div',{staticClass:\"page_d_current page_create_current\"},[_c('div',{staticClass:\"current_page_title create_page_title\"},[_vm._v(\"落地页预览\")]),_vm._v(\" \"),_c('div',{staticClass:\"current_img\"},_vm._l((_vm.template_from.picUrls),function(img_src){return _c('img',{staticClass:\"image\",attrs:{\"src\":img_src.replace(/^\\d+@#@/g,'').replace(/8888/g,'8080')}})}))]),_vm._v(\" \"),_c('div',{staticClass:\"page_d_alt\",class:{none:!_vm.saveAlt.status}},[_vm._v(\"\\n                        提示：保存已生效，生效时间：\"),_c('span',[_vm._v(_vm._s(_vm.saveAlt.date))])]),_vm._v(\" \"),_c('p',{staticClass:\"edit delete\"},[(_vm.templateDisable)?_c('button',{staticClass:\"el-button button el-button--primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.deleteTemplate}},[_c('span',[_vm._v(\"删除\")])]):_vm._e()])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page_d_title\"},[_c('i'),_c('span',[_vm._v(\"模板录入\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-8113a9c2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/imgTemplate/templateInput.vue\n// module id = BP65\n// module chunks = 44","<style rel=\"stylesheet/scss\" lang=\"scss\">\n    .template_input {\n        .f_select2 .el-input__inner {\n            width: 56px;\n        }\n    }\n</style>\n\n<template>\n    <div>\n        <div class=\"template_input\">\n            <div class=\"page_d_title\">\n                <i></i><span>模板录入</span>\n            </div>\n            <div class=\"page_d_con\">\n                <div class=\"page_d_con_left\">\n                    <el-form ref=\"form\" :model=\"template_from\" label-width=\"125px\">\n                        <el-form-item label=\"类型：\">\n                            <el-select\n                                v-model=\"template_from.templateType\"\n                                filterable\n                                allow-create\n                                class=\"f_select4\"\n                                placeholder=\"请选择\">\n                                <el-option\n                                    v-for=\"item in type_options\"\n                                    :key=\"item.id\"\n                                    :label=\"item.val\"\n                                    :value=\"item.id\">\n                                </el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item label=\"模板名称：\">\n                            <el-input v-model=\"template_from.templateName\" class=\"f_input4\" :disabled=\"templateDisable\"></el-input>\n                        </el-form-item>\n                        <el-form-item label=\"展示形式：\">\n                            <el-radio-group v-model=\"template_from.showType\" class=\"f_radio1\">\n                                <el-radio :label=\"1\">平铺</el-radio>\n                                <el-radio :label=\"2\">轮播</el-radio>\n                            </el-radio-group>\n                        </el-form-item>\n                        <el-form-item label=\"上传图片：\" class=\"upload_img\">\n                            <el-upload\n                                class=\"upload-demo\"\n                                :action=\"apiUrl.uploadImgUrl\"\n                                :on-success=\"handleSuccess\"\n                                :on-remove=\"handleRemove\"\n                                :beforeUpload=\"beforeAvatarUpload\"\n                                :onError=\"uploadError\"\n                                :with-credentials=\"true\"\n                                :file-list=\"fileList\">\n                                <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n                                <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png/gif文件，且不超过2MB</div>\n                            </el-upload>\n                        </el-form-item>\n                        <el-form-item label=\"轮播间隔：\" v-bind:class=\"{none:template_from.showType=='1'?true:false}\">\n                            <el-select v-model=\"template_from.intervalTime\" placeholder=\"500\"\n                                       class=\"f_select2 clear_f_select2\">\n                                <el-option :label=\"300\" value=\"300\"></el-option>\n                                <el-option :label=\"400\" value=\"400\"></el-option>\n                                <el-option :label=\"500\" value=\"500\"></el-option>\n                                <el-option :label=\"600\" value=\"600\"></el-option>\n                                <el-option :label=\"700\" value=\"700\"></el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item label=\"轮播最后一帧停止：\" class=\"lunbo\"\n                                      v-bind:class=\"{none:template_from.showType=='1'?true:false}\">\n                            <el-radio-group v-model=\"template_from.lastFrameStop\">\n                                <el-radio :label=\"1\">是</el-radio>\n                                <el-radio :label=\"0\">否</el-radio>\n                            </el-radio-group>\n                        </el-form-item>\n                        <el-form-item class=\"form_button\">\n                            <el-button type=\"primary\" @click=\"onSubmit\">{{but_text}}</el-button>\n                            <el-button @click=\"go_back()\">返回</el-button>\n                        </el-form-item>\n                    </el-form>\n                </div><!--\n\t\t\t\t-->\n                <div class=\"page_d_con_right\">\n                    <div class=\"page_d_current page_create_current\">\n                        <div class=\"current_page_title create_page_title\">落地页预览</div>\n                        <div class=\"current_img\">\n                            <img v-for=\"img_src in template_from.picUrls\"\n                                 :src=\"img_src.replace(/^\\d+@#@/g,'').replace(/8888/g,'8080')\" class=\"image\">\n                        </div>\n                    </div>\n                    <div class=\"page_d_alt\" v-bind:class=\"{none:!saveAlt.status}\">\n                        提示：保存已生效，生效时间：<span>{{saveAlt.date}}</span></div>\n                    <p class=\"edit delete\">\n                        <button type=\"button\" class=\"el-button button el-button--primary\" @click=\"deleteTemplate\" v-if=\"templateDisable\">\n                            <!----><!----><span>删除</span>\n                        </button>\n                    </p>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        data() {\n            return {\n                but_text: '创建',\n                template_from: {\n                    id:'',\n                    type: '2',\n                    templateType: '',\n                    productID: '',\n                    designerID: '',\n                    templateName: '',\n                    showType: 1,\n                    intervalTime: '500',\n                    lastFrameStop: 0,\n                    picUrls: []\n                },\n                templateId: '',\n                templateDisable:false,\n                saveAlt: {\n                    status: false,\n                    date: ''\n                },\n                fileList: [],\n                type_options: [\n                    {\n                        id: '1',\n                        val: '设计1'\n                    }, {\n                        id: '2',\n                        val: '设计2'\n                    }, {\n                        id: '3',\n                        val: '设计3'\n                    }, {\n                        id: '4',\n                        val: '设计4'\n                    }, {\n                        id: '5',\n                        val: '设计5'\n                    }\n                ],\n            };\n        },\n        created() {\n            this.template_from.designerID = sessionStorage.userType == '2' ? sessionStorage.userId : '';\n            this.pageInfo();\n        },\n        methods: {\n            pageInfo() {\n                /*类型*/\n                this.$http({\n                    method: 'get',\n                    url: this.apiUrl.getListUrl,\n                    params: {type: '2'}\n                }).then(res => {\n//                    console.log(res);\n                    var data = res.data;\n                    if (data.status == 1) {\n                        this.type_options = data.list;\n                    } else {\n                        console.log(data.msg);\n                    }\n                }).catch(error => {\n                    console.log(error);\n                });\n                /*编辑模板*/\n                if (this.$route.query.templateId != '') {\n                    this.templateDisable=true;\n                    this.templateId = decodeURIComponent(this.$route.query.templateId);\n                    this.but_text = '保存';\n                    this.$http({\n                        method: 'get',\n                        url: this.apiUrl.templateGetUrl,\n                        params: {id: this.templateId}\n                    }).then(res => {\n//                        console.log(res);\n                        if (res.status == 200) {\n                            this.template_from = res.data;\n                            this.template_from.picUrls = this.picSort(this.template_from.picUrls, '@#@');\n                            var newArr = [];\n                            for (let url of this.template_from.picUrls) {\n                                newArr.push({name: this.picSubName(url), url: url});\n                            }\n                            this.fileList = newArr;\n                        } else {\n//                            alert(data.msg);\n                        }\n                    }).catch(error => {\n                        console.log(error);\n                    });\n                }\n            },\n            onSubmit() {\n                if (this.template_from.picUrls.length > 0) {\n                    this.template_from.picUrls = this.pic_sort(this.template_from.picUrls);\n                    this.but_text=='保存'?this.template_from.id=this.templateId:null;\n                    var nowUrl='';\n                    nowUrl=this.but_text=='保存'?this.apiUrl.templateUpdateUrl:this.apiUrl.templateNewUrl;\n                    this.$http({\n                        method: 'post',\n                        url: nowUrl,\n                        data: this.template_from\n                    }).then(res => {\n//                        console.log(res);\n                        var data = res.data;\n                        if (data.status == 1) {\n                            this.saveAlt.status = true;\n                            this.saveAlt.date = new Date().toLocaleString();\n                            this.$message({\n                                type: 'success',\n                                message: '操作成功'\n                            });\n                        } else {\n                            this.$message({\n                                type: 'error',\n                                message: '操作失败'\n                            });\n                        }\n                    }).catch(error => {\n                        console.log(error);\n                    });\n                } else {\n                    this.$message({\n                        type: 'info',\n                        message: '请上传图片'\n                    });\n                }\n            },\n            handleRemove(file, fileList) {\n                this.template_from.picUrls = [];\n                for (let item of fileList) {\n                    if (item.response) {\n                        this.template_from.picUrls.push(item.response.url);\n                    } else {\n                        this.template_from.picUrls.push(item.url);\n                    }\n                }\n            },\n            handleSuccess(response, file, fileList) {\n//                console.log(fileList);\n//                this.template_from.picUrls = [];\n//                for (let item of fileList) {\n                this.template_from.picUrls.push(response.url);\n//                }\n//                console.log(this.template_from.picUrls);\n            },\n            // 上传错误\n            uploadError(response, file, fileList) {\n                this.$message({\n                    type: 'error',\n                    message: '上传失败，请重试'\n                });\n            },\n            // 上传前对文件的大小的判断\n            beforeAvatarUpload(file) {\n                var fileName=file.name.split('.');\n                var fileNameLen=fileName.length-1;\n                const extension = fileName[fileNameLen] === 'jpg';\n                const extension2 = fileName[fileNameLen] === 'gif';\n                const extension3 = fileName[fileNameLen] === 'png';\n                const isLt2M = file.size / 1024 / 1024 < 2;\n                if (!extension && !extension2 && !extension3) {\n                    this.$message({\n                        type: 'info',\n                        message: '上传模板只能是 jpg、gif、png 格式'\n                    });\n                }\n                if (!isLt2M) {\n                    this.$message({\n                        type: 'info',\n                        message: '上传图片大小不能超过 2MB'\n                    });\n                }\n                return extension || extension2 || extension3 && isLt2M;\n            },\n            deleteTemplate() {\n//                console.log(this.templateId);\n                this.$confirm('此操作将永久删除该模板, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.$http({\n                        method: 'delete',\n                        url: this.apiUrl.templateDelUrl,\n                        params: {id: this.templateId}\n                    }).then(res => {\n//                        console.log(res);\n                        var data = res.data;\n                        if (data.status == 1) {\n                            this.$message({\n                                type: 'success',\n                                message: '删除成功'\n                            });\n                            this.$router.push({\n                                path: 'templateList'\n                            });\n                        } else {\n                            this.$message({\n                                type: 'error',\n                                message: '模板正在使用，删除失败'\n                            });\n                        }\n                    }).catch(error => {\n                        this.$message({\n                            type: 'error',\n                            message: '删除失败'\n                        });\n                    });\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n            },\n            go_back() {\n                this.$router.back();\n            }\n        }\n    };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/imgTemplate/templateInput.vue","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".template_input .f_select2 .el-input__inner{width:56px}\", \"\", {\"version\":3,\"sources\":[\"/Users/pby/dev/cmsweb/src/views/imgTemplate/templateInput.vue\"],\"names\":[],\"mappings\":\"AACA,4CACE,UAAY,CACb\",\"file\":\"templateInput.vue\",\"sourcesContent\":[\"\\n.template_input .f_select2 .el-input__inner {\\n  width: 56px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-8113a9c2\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/imgTemplate/templateInput.vue\n// module id = bOWV\n// module chunks = 44","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8113a9c2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./templateInput.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./templateInput.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./templateInput.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8113a9c2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./templateInput.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/imgTemplate/templateInput.vue\n// module id = dXD8\n// module chunks = 44"],"sourceRoot":""}