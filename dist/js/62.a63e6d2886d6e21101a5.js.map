{"version":3,"sources":["webpack:///js/62.a63e6d2886d6e21101a5.js","webpack:///./src/views/cpaDataMana/channelProNew.vue?969d","webpack:///./src/views/cpaDataMana/channelProNew.vue?5691","webpack:///src/views/cpaDataMana/channelProNew.vue","webpack:///./src/views/cpaDataMana/channelProNew.vue?afb6","webpack:///./src/views/cpaDataMana/channelProNew.vue"],"names":["webpackJsonp","Dw8s","module","exports","__webpack_require__","content","i","locals","UksU","push","version","sources","names","mappings","file","sourceRoot","cgzz","__webpack_exports__","data","pageTitle","menu_nav","isRightBox","dateStatus","importTitleStatus","importTitleTxt","channelPro_from","channelCode","status","channelPrices","date","deleted","disable","disexist","price","customerProductCode","channelStatus","onLineDate","offLineDate","customerCode","productCode","lineDate","customer_items","placeHolder","options","pro_items","channelPro_items","model_value","channel_items","product","id","val","value3","channelProductId","created","this","customerSelect","$route","query","pageInfo","methods","_this","$http","method","url","apiUrl","customerSearch","params","offset","limit","then","res","items","catch","error","console","log","channelSearch","length","proInfo","_this2","customerProListLight","_this3","channelProGet","forEach","item","isValueChange","parseInt","err","channelProInfo","_this4","customerProSearch","type","code","cusSelect","proSelect","onSubmit","_this5","pricesArr","pricesLen","isexist","$message","message","_i","splice","addPrice","cStatus","cLen","addStatus","channelProNew","channelProUpdate","key","msg","replace","go_back","$router","back","deletePrice","index","deleteStatus","dateChange","str","formatDateTime","Date","priceInputChange","channelStatusDateChange","lineDateChange","oldDate","newDate","priceArr","obj","foreach","break","Error","e","flag","c","x","exitImportTitle","lNXX","render","_vm","_h","$createElement","_c","_self","staticClass","_l","_v","_s","class","page_d_con_left_widthAll","ref","attrs","model","label-width","label","filterable","placeholder","disabled","on","change","value","callback","$$v","$set","expression","name","productName","$event","productPackageCode","productChannelCode","packageStatus","staticStyle","height","_e","font-size","click","display","margin-left","color","margin","o","stopPropagation","domProps","innerHTML","staticRenderFns","esExports","vNZF","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_channelProNew_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_537ca6db_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_channelProNew_vue__","normalizeComponent","__vue_styles__","Component"],"mappings":"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","file":"js/62.a63e6d2886d6e21101a5.js","sourcesContent":["webpackJsonp([62],{\n\n/***/ \"Dw8s\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"UksU\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"FIqI\")(\"a84dc6da\", content, true, {});\n\n/***/ }),\n\n/***/ \"UksU\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"UTlt\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"channelProNew.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"cgzz\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    data: function data() {\n        return {\n            pageTitle: '创建产品信息',\n            menu_nav: ['CPA数据管理', '渠道产品管理', '创建产品信息'],\n            isRightBox: false,\n            dateStatus: false,\n            importTitleStatus: false,\n            importTitleTxt: '',\n            channelPro_from: {\n                'channelCode': '',\n                'status': 0,\n                'channelPrices': [{\n                    'date': '',\n                    'deleted': false,\n                    'disable': false,\n                    'disexist': false,\n                    'price': ''\n                }],\n                'customerProductCode': '',\n                'channelStatus': [{\n                    'onLineDate': '',\n                    'offLineDate': '',\n                    'deleted': false,\n                    'disable': false\n                }],\n                'customerCode': '',\n                'productCode': ''\n            },\n            lineDate: [],\n            customer_items: {\n                placeHolder: '客户',\n                options: []\n            },\n            pro_items: {\n                placeHolder: '产品',\n                options: []\n            },\n            channelPro_items: {\n                model_value: '',\n                placeHolder: '上游渠道号',\n                options: []\n            },\n            channel_items: {\n                model_value: '',\n                placeHolder: '渠道',\n                options: []\n            },\n            options: {\n                product: [{\n                    id: '',\n                    val: ''\n                }]\n            },\n            value3: '目前该时间点为上线状态',\n            channelProductId: ''\n        };\n    },\n    created: function created() {\n        //            this.channelPro_from.creatorID = sessionStorage.userId;\n        //            this.pageInfo();\n        this.customerSelect();\n        this.channelProductId = this.$route.query.channelProductId;\n        if (this.channelProductId != '') {\n            this.pageInfo();\n            this.pageTitle = '编辑产品信息';\n            //                this.isRightBox = this.dateStatus = true;\n            this.dateStatus = true;\n        }\n    },\n\n    methods: {\n        customerSelect: function customerSelect() {\n            var _this = this;\n\n            /*客户*/\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.customerSearch,\n                params: {\n                    offset: 1,\n                    limit: 9999,\n                    val: ''\n                }\n            }).then(function (res) {\n                //                    console.log(res);\n                if (res.status == 200) {\n                    var data = res.data;\n                    _this.customer_items.options = data.items;\n                } else {\n                    //                        console.log('');\n                }\n            }).catch(function (error) {\n                console.log(error);\n            });\n            /*投放渠道*/\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.channelSearch,\n                params: {\n                    offset: 1,\n                    limit: 9999,\n                    val: ''\n                }\n            }).then(function (res) {\n                if (res.status == 200) {\n                    var data = res.data;\n                    data.items.length > 0 ? _this.channel_items.options = data.items : null;\n                } else {\n                    //                        console.log('');\n                }\n            }).catch(function (error) {\n                console.log(error);\n            });\n        },\n        proInfo: function proInfo() {\n            var _this2 = this;\n\n            /*产品*/\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.customerProListLight,\n                params: {\n                    customerCode: this.channelPro_from.customerCode\n                }\n            }).then(function (res) {\n                if (res.status == 200) {\n                    var data = res.data;\n                    _this2.pro_items.options = data.items;\n                    _this2.channelProductId != '' ? null : _this2.channelPro_from.productCode = '';\n                } else {}\n            }).catch(function (error) {\n                console.log(error);\n            });\n        },\n        pageInfo: function pageInfo() {\n            var _this3 = this;\n\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.channelProGet,\n                params: {\n                    id: this.channelProductId\n                }\n            }).then(function (res) {\n                if (res.status = 200) {\n                    _this3.channelPro_from = res.data;\n                    _this3.channelPro_from.channelStatus.forEach(function (item) {\n                        item.isValueChange = false;\n                        _this3.lineDate.push({\n                            onLineDate: item.onLineDate,\n                            offLineDate: item.offLineDate\n                        });\n                    });\n                    _this3.channelPro_from.status = parseInt(_this3.channelPro_from.status);\n                }\n            }).catch(function (err) {});\n        },\n        channelProInfo: function channelProInfo() {\n            var _this4 = this;\n\n            /*上游渠道号*/\n            this.$http({\n                method: 'get',\n                url: this.apiUrl.customerProSearch,\n                params: {\n                    offset: 1,\n                    limit: 9999,\n                    type: 2,\n                    code: this.channelPro_from.productCode\n                }\n            }).then(function (res) {\n                //                    console.log(res);\n                if (res.status == 200) {\n                    var data = res.data;\n                    _this4.channelPro_items.options = data.items;\n                    _this4.channelProductId != '' ? null : _this4.channelPro_from.customerProductCode = '';\n                } else {\n                    //                        console.log('');\n                }\n            }).catch(function (error) {\n                console.log(error);\n            });\n        },\n        cusSelect: function cusSelect() {\n            this.proInfo();\n        },\n        proSelect: function proSelect() {\n            this.channelProInfo();\n        },\n        onSubmit: function onSubmit() {\n            var _this5 = this;\n\n            var pricesArr = this.channelPro_from.channelPrices;\n            var pricesLen = pricesArr.length;\n            var isexist = false; //判断是否有重复的渠道价\n            if (this.channelProductId != '' && this.channelProductId) {\n                for (var i = 0; i < pricesLen; i++) {\n                    if ((pricesArr[i].date == '' || pricesArr[i].price == '' || !pricesArr[i].date) && !pricesArr[i].deleted) {\n                        this.$message({\n                            type: 'info',\n                            message: '渠道价不能为空，请修改并重新提交'\n                        });\n                        return false;\n                    }\n                    if (pricesArr[i].disexist) {\n                        isexist = true;\n                    }\n                }\n            } else {\n                for (var _i = 0; _i < pricesLen; _i++) {\n                    if (pricesArr[_i].date == '' || pricesArr[_i].price == '' || !pricesArr[_i].date) {\n                        pricesArr.splice(_i, 1);\n                        _i--;\n                        pricesLen = pricesArr.length;\n                    } else if (pricesArr[_i].disexist) {\n                        isexist = true;\n                    }\n                }\n                if (pricesLen == 0) {\n                    this.addPrice();\n                }\n            }\n            if (isexist) {\n                this.$message({\n                    type: 'info',\n                    message: '存在重复的渠道价，请修改或删除并重新提交'\n                });\n                return false;\n            }\n            //                this.channelPro_from.channelStatus.forEach((item,index)=>{\n            //                    item.onLineDate=item.onLineDate||'1970-01-01';\n            //                    item.offLineDate=item.offLineDate||'9999-12-31';\n            //                });\n            var cStatus = this.channelPro_from.channelStatus;\n            var cLen = cStatus.length;\n            while (cLen--) {\n                if (!cStatus[cLen].onLineDate && !cStatus[cLen].offLineDate) {\n                    cStatus.splice(cLen, 1);\n                } else {\n                    cStatus[cLen].onLineDate = cStatus[cLen].onLineDate || '1970-01-01';\n                    cStatus[cLen].offLineDate = cStatus[cLen].offLineDate || '9999-12-31';\n                    if (cStatus[cLen].onLineDate >= cStatus[cLen].offLineDate && !cStatus[cLen].deleted) {\n                        this.$message({\n                            type: 'info',\n                            message: '上线时间不能大于或等于下线时间，请修改并重新提交'\n                        });\n                        return false;\n                    }\n                }\n            }\n            cLen = cStatus.length;\n            if (cLen == 0) {\n                this.addStatus();\n                this.$message({\n                    type: 'info',\n                    message: '上下线时间不能为空，请修改并重新提交'\n                });\n                return false;\n            }\n            //                console.log(this.channelPro_from);\n            //                return false;\n            var url = this.apiUrl.channelProNew;\n            if (this.channelProductId != '') {\n                url = this.apiUrl.channelProUpdate;\n            }\n            for (var key in this.channelPro_from) {\n                if (key != 'channelPrices' && key != 'status' && this.channelPro_from[key] == '') {\n                    this.$message({\n                        type: 'info',\n                        message: '名称、渠道号、渠道为空或数据异常，请重新选择并提交'\n                    });\n                    return false;\n                }\n            }\n            this.$http({\n                method: 'post',\n                url: url,\n                data: this.channelPro_from\n            }).then(function (res) {\n                if (res.status == 200) {\n                    var data = res.data;\n                    if (data.status == 2 || data.status < 0) {\n                        _this5.importTitleTxt = data.msg.replace(/\\|/g, '<br>');\n                        _this5.importTitleStatus = true;\n                    } else {\n                        _this5.$message({\n                            type: 'success',\n                            message: '操作成功'\n                        });\n                        _this5.go_back();\n                    }\n                } else {\n                    _this5.$message({\n                        type: 'error',\n                        message: '操作失败，请完善信息，并重新提交'\n                    });\n                }\n            }).catch(function (error) {\n                console.log(error);\n                _this5.$message({\n                    type: 'error',\n                    message: '请完善信息，并重新提交'\n                });\n            });\n        },\n        go_back: function go_back() {\n            this.$router.back();\n        },\n        deletePrice: function deletePrice(index) {\n            var pricesArr = this.channelPro_from.channelPrices;\n            var pricesLen = pricesArr.length;\n            var isexist = false; //判断是否有重复的接入价\n            if (this.channelProductId != '' && this.channelProductId) {\n                for (var i = 0; i < pricesLen; i++) {\n                    if (pricesArr[i].disexist) {\n                        isexist = true;\n                    }\n                }\n            }\n            if (isexist) {\n                this.$message({\n                    type: 'info',\n                    message: '存在重复的渠道价，请修改后再进行删除'\n                });\n                return false;\n            }\n            this.channelPro_from.channelPrices[index].deleted = true;\n            this.channelPro_from.channelPrices[index].disexist = false;\n        },\n        deleteStatus: function deleteStatus(index) {\n            this.channelPro_from.channelStatus[index].deleted = true;\n        },\n        addPrice: function addPrice() {\n            this.channelPro_from.channelPrices.push({\n                'date': '',\n                'deleted': false,\n                'disable': false,\n                'disexist': false,\n                'price': ''\n            });\n        },\n        addStatus: function addStatus() {\n            this.channelPro_from.channelStatus.push({\n                'onLineDate': '',\n                'offLineDate': '',\n                'deleted': false,\n                'disable': false,\n                'isValueChange': false\n            });\n            this.lineDate.push({\n                onLineDate: '',\n                offLineDate: ''\n            });\n        },\n        dateChange: function dateChange(str, index) {\n            var date = this.channelPro_from[str][index].date || '';\n            if (date != '' && date != 'undefined' && typeof date != 'undefined' && date) {\n                this.channelPro_from[str][index].date = this.formatDateTime(new Date(date), 'y-m-d');\n            } else {\n                this.channelPro_from[str][index].date = '';\n            }\n            if (str == 'channelPrices') {\n                this.priceInputChange(index);\n            }\n        },\n        channelStatusDateChange: function channelStatusDateChange(str, index) {\n            var date = this.channelPro_from.channelStatus[index][str] || '';\n            if (date != '' && date != 'undefined' && typeof date != 'undefined' && date) {\n                this.channelPro_from.channelStatus[index][str] = this.formatDateTime(new Date(date), 'y-m-d');\n            } else {\n                this.channelPro_from.channelStatus[index][str] = '';\n            }\n            if (this.dateStatus) this.lineDateChange(index);\n        },\n        lineDateChange: function lineDateChange(index) {\n            var oldDate = this.lineDate[index];\n            var newDate = this.channelPro_from.channelStatus[index];\n            if (oldDate.onLineDate == newDate.onLineDate && oldDate.offLineDate == newDate.offLineDate) {\n                newDate.isValueChange = false;\n            } else {\n                newDate.isValueChange = true;\n            }\n        },\n        priceInputChange: function priceInputChange(index) {\n            var priceArr = this.channelPro_from.channelPrices;\n            var obj = this.channelPro_from.channelPrices[index];\n            if (obj.price && obj.date) {\n                try {\n                    priceArr.forEach(function (item, i) {\n                        if (i != index && item.date == obj.date && item.price && !item.deleted) {\n                            obj.disexist = true;\n                            foreach.break = new Error(\"StopIteration\");\n                        } else if (i != index && item.date != obj.date && item.price && !item.deleted) {\n                            obj.disexist = false;\n                        }\n                    });\n                } catch (e) {\n                    //                        console.log(e.message);\n                    if (e.message === \"foreach is not defined\") {\n                        //                            console.log(\"跳出来了?\");\n                        return;\n                    } else throw e;\n                }\n            } else {\n                priceArr.forEach(function (item, i) {\n                    if (item.disexist && item.date && item.price) {\n                        var flag = true;\n                        //                            console.log(item);\n                        priceArr.forEach(function (c, x) {\n                            if (i != x && item.date == c.date && c.price) {\n                                flag = false;\n                            }\n                        });\n                        //                            console.log(flag);\n                        flag ? item.disexist = false : null;\n                    } else {\n                        item.disexist = false;\n                    }\n                });\n            }\n        },\n        exitImportTitle: function exitImportTitle() {\n            this.importTitleStatus = false;\n        }\n    }\n});\n\n/***/ }),\n\n/***/ \"lNXX\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"page_create channelProNew\"},[_c('div',{staticClass:\"menuNav\"},[_c('p',[_c('i',{staticClass:\"nav_index\"}),_vm._l((_vm.menu_nav),function(c,i){return _c('span',{key:i},[_c('i',{staticClass:\"el-icon-arrow-right\"}),_c('em',[_vm._v(_vm._s(c))])])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"page_d_title\"},[_c('i'),_c('span',[_vm._v(_vm._s(_vm.pageTitle))])]),_vm._v(\" \"),_c('div',{staticClass:\"page_d_con\"},[_c('div',{staticClass:\"page_d_con_left cpa_page_left\",class:{page_d_con_left_widthAll:!_vm.isRightBox}},[_c('div',{staticClass:\"banner_part_line page_create_set_line\"},[_vm._v(\"产品信息\")]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.channelPro_from,\"label-width\":\"125px\"}},[_c('el-form-item',{attrs:{\"label\":\"客户名称：\"}},[_c('el-select',{staticClass:\"f_select1\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\",\"disabled\":_vm.dateStatus},on:{\"change\":_vm.cusSelect},model:{value:(_vm.channelPro_from.customerCode),callback:function ($$v) {_vm.$set(_vm.channelPro_from, \"customerCode\", $$v)},expression:\"channelPro_from.customerCode\"}},_vm._l((_vm.customer_items.options),function(item,index){return _c('el-option',{key:item.customerCode,attrs:{\"label\":item.name,\"value\":item.customerCode}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"产品名称：\"}},[_c('el-select',{staticClass:\"f_select1\",attrs:{\"placeholder\":\"请选择\",\"disabled\":_vm.dateStatus},on:{\"change\":_vm.proSelect},model:{value:(_vm.channelPro_from.productCode),callback:function ($$v) {_vm.$set(_vm.channelPro_from, \"productCode\", $$v)},expression:\"channelPro_from.productCode\"}},_vm._l((_vm.pro_items.options),function(item,index){return _c('el-option',{key:item.id,attrs:{\"label\":item.productName,\"value\":item.customerProductCode}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上游渠道号：\"}},[_c('el-select',{staticClass:\"f_select1\",attrs:{\"placeholder\":\"请选择\",\"disabled\":_vm.dateStatus,\"filterable\":\"\"},on:{\"change\":function($event){}},model:{value:(_vm.channelPro_from.customerProductCode),callback:function ($$v) {_vm.$set(_vm.channelPro_from, \"customerProductCode\", $$v)},expression:\"channelPro_from.customerProductCode\"}},_vm._l((_vm.channelPro_items.options),function(item,index){return _c('el-option',{key:item.productPackageCode,attrs:{\"label\":item.productChannelCode,\"value\":item.productPackageCode,\"disabled\":item.packageStatus==1}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"投放渠道：\"}},[_c('el-select',{staticClass:\"f_select1\",attrs:{\"placeholder\":\"请选择\",\"disabled\":_vm.dateStatus,\"filterable\":\"\"},model:{value:(_vm.channelPro_from.channelCode),callback:function ($$v) {_vm.$set(_vm.channelPro_from, \"channelCode\", $$v)},expression:\"channelPro_from.channelCode\"}},_vm._l((_vm.channel_items.options),function(item,index){return _c('el-option',{key:item.channelCode,attrs:{\"label\":item.channelCode+' '+item.name,\"value\":item.channelCode}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"height\":\"auto\"},attrs:{\"label\":\"渠道价：\"}},[_vm._l((_vm.channelPro_from.channelPrices),function(item,index){return (!item.deleted)?_c('div',{key:item.id},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"disabled\":false},on:{\"change\":function($event){_vm.dateChange('channelPrices',index)}},model:{value:(item.date),callback:function ($$v) {_vm.$set(item, \"date\", $$v)},expression:\"item.date\"}}),_vm._v(\" \"),_c('el-input',{staticClass:\"el_input_short\",attrs:{\"disabled\":false,\"placeholder\":\"请输入渠道价\"},on:{\"change\":function($event){_vm.priceInputChange(index)}},model:{value:(item.price),callback:function ($$v) {_vm.$set(item, \"price\", $$v)},expression:\"item.price\"}}),_vm._v(\"\\n                                元\\n                                \"),(_vm.dateStatus)?_c('span',{staticClass:\"r_span\",staticStyle:{\"font-size\":\"16px\"},on:{\"click\":function($event){_vm.deletePrice(index)}}},[_vm._v(\"删除\")]):_vm._e(),_vm._v(\" \"),(item.disexist)?_c('span',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"10px\",\"color\":\"red\"}},[_vm._v(\"* 已存在\")]):_vm._e()],1):_vm._e()}),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.addPrice}},[_vm._v(\"添加一行\")])],2),_vm._v(\" \"),_vm._l((_vm.channelPro_from.channelStatus),function(item,index){return (!item.deleted)?_c('div',{key:item.id},[_c('el-form-item',{staticStyle:{\"height\":\"auto\",\"display\":\"inline-block\"},attrs:{\"label\":\"上线时间:\"}},[_c('div',[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"disabled\":item.disable},on:{\"change\":function($event){_vm.channelStatusDateChange('onLineDate',index)}},model:{value:(item.onLineDate),callback:function ($$v) {_vm.$set(item, \"onLineDate\", $$v)},expression:\"item.onLineDate\"}})],1)]),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"height\":\"auto\",\"display\":\"inline-block\"},attrs:{\"label\":\"下线时间:\"}},[_c('div',[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"disabled\":item.disable},on:{\"change\":function($event){_vm.channelStatusDateChange('offLineDate',index)}},model:{value:(item.offLineDate),callback:function ($$v) {_vm.$set(item, \"offLineDate\", $$v)},expression:\"item.offLineDate\"}})],1)]),_vm._v(\" \"),(_vm.dateStatus)?_c('span',{staticClass:\"r_span\",staticStyle:{\"font-size\":\"16px\"},on:{\"click\":function($event){_vm.deleteStatus(index)}}},[_vm._v(\"删除\")]):_vm._e()],1):_vm._e()}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin\":\"0 0 6px 125px\"},on:{\"click\":_vm.addStatus}},[_vm._v(\"添加一行\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否封包：\"}},[_c('el-radio-group',{staticClass:\"f_radio2 f_radio\",model:{value:(_vm.channelPro_from.status),callback:function ($$v) {_vm.$set(_vm.channelPro_from, \"status\", $$v)},expression:\"channelPro_from.status\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"form_button\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"确认\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.go_back()}}},[_vm._v(\"返回\")])],1)],2)],1),_vm._v(\" \"),(_vm.isRightBox)?_c('div',{staticClass:\"page_d_con_right cpa_page_right\"},[_c('div',{staticClass:\"page_d_current page_create_current\"},[_c('div',{staticClass:\"current_page_title create_page_title\"},[_vm._v(\"操作历史记录\")]),_vm._v(\" \"),_c('div',{staticClass:\"current_img\"},_vm._l((4),function(o){return _c('div',{key:o,staticClass:\"text item\"},[_vm._v(\"\\n                                \"+_vm._s('列表内容 ' + o)+\"\\n                            \")])}))])]):_vm._e()]),_vm._v(\" \"),(_vm.importTitleStatus)?_c('div',{staticClass:\"importTitle\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"importTitle_top\"},[_c('span',[_vm._v(\"提示\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.exitImportTitle($event)}}},[_vm._v(\"×\")])]),_vm._v(\" \"),_c('div',{staticClass:\"importTitleTxt\",domProps:{\"innerHTML\":_vm._s(_vm.importTitleTxt)}})]):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"vNZF\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_channelProNew_vue__ = __webpack_require__(\"cgzz\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_537ca6db_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_channelProNew_vue__ = __webpack_require__(\"lNXX\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"Dw8s\")\n}\nvar normalizeComponent = __webpack_require__(\"vSla\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_channelProNew_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_537ca6db_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_channelProNew_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/62.a63e6d2886d6e21101a5.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-537ca6db\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./channelProNew.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"a84dc6da\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-537ca6db\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/cpaDataMana/channelProNew.vue\n// module id = Dw8s\n// module chunks = 62","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"channelProNew.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-537ca6db\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/cpaDataMana/channelProNew.vue\n// module id = UksU\n// module chunks = 62","<style rel=\"stylesheet/scss\" lang=\"scss\">\n\n\n</style>\n\n<template>\n    <div>\n        <div class=\"page_create channelProNew\">\n            <div class=\"menuNav\">\n                <p><i class=\"nav_index\"></i><span v-for=\"(c, i) in menu_nav\" :key=\"i\"><i\n                    class=\"el-icon-arrow-right\"></i><em>{{c}}</em></span></p>\n            </div>\n            <div class=\"page_d_title\">\n                <i></i><span>{{pageTitle}}</span>\n            </div>\n            <div class=\"page_d_con\">\n                <div class=\"page_d_con_left cpa_page_left\" :class=\"{page_d_con_left_widthAll:!isRightBox}\">\n                    <div class=\"banner_part_line page_create_set_line\">产品信息</div>\n                    <el-form ref=\"form\" :model=\"channelPro_from\" label-width=\"125px\">\n                        <el-form-item label=\"客户名称：\">\n                            <el-select v-model=\"channelPro_from.customerCode\" filterable placeholder=\"请选择\"\n                                       class=\"f_select1\"\n                                       @change=\"cusSelect\" :disabled=\"dateStatus\">\n                                <el-option\n                                    v-for=\"(item,index) in customer_items.options \"\n                                    :key=\"item.customerCode\"\n                                    :label=\"item.name\"\n                                    :value=\"item.customerCode\">\n                                </el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item label=\"产品名称：\">\n                            <el-select v-model=\"channelPro_from.productCode\" placeholder=\"请选择\" class=\"f_select1\"\n                                       @change=\"proSelect\" :disabled=\"dateStatus\">\n                                <el-option\n                                    v-for=\"(item,index) in pro_items.options\"\n                                    :key=\"item.id\"\n                                    :label=\"item.productName\"\n                                    :value=\"item.customerProductCode\">\n                                </el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item label=\"上游渠道号：\">\n                            <el-select v-model=\"channelPro_from.customerProductCode\" placeholder=\"请选择\" class=\"f_select1\"\n                                       @change=\"\" :disabled=\"dateStatus\" filterable>\n                                <el-option\n                                    v-for=\"(item,index) in channelPro_items.options\"\n                                    :key=\"item.productPackageCode\"\n                                    :label=\"item.productChannelCode \"\n                                    :value=\"item.productPackageCode\"\n                                    :disabled=\"item.packageStatus==1\">\n                                </el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item label=\"投放渠道：\">\n                            <el-select v-model=\"channelPro_from.channelCode\" placeholder=\"请选择\" class=\"f_select1\"\n                                       :disabled=\"dateStatus\" filterable>\n                                <el-option\n                                    v-for=\"(item,index) in channel_items.options\"\n                                    :key=\"item.channelCode\"\n                                    :label=\"item.channelCode+' '+item.name\"\n                                    :value=\"item.channelCode\">\n                                </el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item label=\"渠道价：\" style=\"height:auto;\">\n                            <div v-for=\"(item,index) in channelPro_from.channelPrices\" :key=\"item.id\" v-if=\"!item.deleted\">\n                                <el-date-picker\n                                    v-model=\"item.date\"\n                                    type=\"date\"\n                                    placeholder=\"选择日期\"\n                                    :disabled=\"false\"\n                                    @change=\"dateChange('channelPrices',index)\">\n                                </el-date-picker>\n                                <el-input v-model=\"item.price\" :disabled=\"false\" class=\"el_input_short\"\n                                          placeholder=\"请输入渠道价\" @change=\"priceInputChange(index)\"></el-input>\n                                元\n                                <span class=\"r_span\" style=\"font-size:16px;\" v-if=\"dateStatus\" @click=\"deletePrice(index)\">删除</span>\n                                <span style=\"display:inline-block;margin-left:10px;color:red;\" v-if=\"item.disexist\">* 已存在</span>\n                            </div>\n                            <el-button @click=\"addPrice\">添加一行</el-button>\n                        </el-form-item>\n                        <div v-for=\"(item,index) in channelPro_from.channelStatus\" :key=\"item.id\" v-if=\"!item.deleted\">\n                            <el-form-item style=\"height:auto;display: inline-block;\" label=\"上线时间:\">\n                                <div>\n                                    <el-date-picker\n                                        v-model=\"item.onLineDate\"\n                                        type=\"date\"\n                                        placeholder=\"选择日期\"\n                                        :disabled=\"item.disable\"\n                                        @change=\"channelStatusDateChange('onLineDate',index)\">\n                                    </el-date-picker>\n                                </div>\n                            </el-form-item>\n                            <el-form-item style=\"height:auto;display: inline-block;\" label=\"下线时间:\">\n                                <div>\n                                    <el-date-picker\n                                        v-model=\"item.offLineDate\"\n                                        type=\"date\"\n                                        placeholder=\"选择日期\"\n                                        :disabled=\"item.disable\"\n                                        @change=\"channelStatusDateChange('offLineDate',index)\">\n                                    </el-date-picker>\n                                </div>\n                            </el-form-item>\n                            <span class=\"r_span\" style=\"font-size:16px;\" v-if=\"dateStatus\" @click=\"deleteStatus(index)\">删除</span>\n                        </div>\n                        <el-button @click=\"addStatus\" style=\"margin:0 0 6px 125px;\">添加一行</el-button>\n                        <el-form-item label=\"是否封包：\">\n                            <el-radio-group v-model=\"channelPro_from.status\" class=\"f_radio2 f_radio\">\n                                <el-radio :label=\"1\">是</el-radio>\n                                <el-radio :label=\"0\">否</el-radio>\n                            </el-radio-group>\n                        </el-form-item>\n                        <el-form-item class=\"form_button\">\n                            <el-button type=\"primary\" @click=\"onSubmit\">确认</el-button>\n                            <el-button @click=\"go_back()\">返回</el-button>\n                        </el-form-item>\n                    </el-form>\n                </div><!--\n\t\t\t\t-->\n                <div class=\"page_d_con_right cpa_page_right\" v-if=\"isRightBox\">\n                    <div class=\"page_d_current page_create_current\">\n                        <div class=\"current_page_title create_page_title\">操作历史记录</div>\n                        <div class=\"current_img\">\n                            <div v-for=\"o in 4\" :key=\"o\" class=\"text item\">\n                                {{'列表内容 ' + o }}\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n            <div class=\"importTitle\" v-if=\"importTitleStatus\" @click.stop=\"\">\n                <div class=\"importTitle_top\">\n                    <span>提示</span>\n                    <button @click.stop=\"exitImportTitle\">×</button>\n                </div>\n                <div class=\"importTitleTxt\" v-html=\"importTitleTxt\"></div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        data() {\n            return {\n                pageTitle: '创建产品信息',\n                menu_nav: ['CPA数据管理', '渠道产品管理', '创建产品信息'],\n                isRightBox: false,\n                dateStatus: false,\n                importTitleStatus: false,\n                importTitleTxt: '',\n                channelPro_from: {\n                    'channelCode': '',\n                    'status': 0,\n                    'channelPrices': [\n                        {\n                            'date': '',\n                            'deleted': false,\n                            'disable': false,\n                            'disexist': false,\n                            'price': ''\n                        },\n                    ],\n                    'customerProductCode': '',\n                    'channelStatus': [\n                        {\n                            'onLineDate': '',\n                            'offLineDate': '',\n                            'deleted': false,\n                            'disable': false\n                        },\n                    ],\n                    'customerCode': '',\n                    'productCode': ''\n                },\n                lineDate:[],\n                customer_items: {\n                    placeHolder: '客户',\n                    options: []\n                },\n                pro_items: {\n                    placeHolder: '产品',\n                    options: []\n                },\n                channelPro_items: {\n                    model_value: '',\n                    placeHolder: '上游渠道号',\n                    options: []\n                },\n                channel_items: {\n                    model_value: '',\n                    placeHolder: '渠道',\n                    options: []\n                },\n                options: {\n                    product: [\n                        {\n                            id: '',\n                            val: ''\n                        }\n                    ],\n                },\n                value3: '目前该时间点为上线状态',\n                channelProductId: '',\n            };\n        },\n        created() {\n//            this.channelPro_from.creatorID = sessionStorage.userId;\n//            this.pageInfo();\n            this.customerSelect();\n            this.channelProductId = this.$route.query.channelProductId;\n            if (this.channelProductId != '') {\n                this.pageInfo();\n                this.pageTitle = '编辑产品信息';\n//                this.isRightBox = this.dateStatus = true;\n                this.dateStatus = true;\n            }\n        },\n        methods: {\n            customerSelect() {\n                /*客户*/\n                this.$http({\n                    method: 'get',\n                    url: this.apiUrl.customerSearch,\n                    params: {\n                        offset: 1,\n                        limit: 9999,\n                        val: '',\n                    }\n                }).then(res => {\n//                    console.log(res);\n                    if (res.status == 200) {\n                        var data = res.data;\n                        this.customer_items.options = data.items;\n                    } else {\n//                        console.log('');\n                    }\n                }).catch(error => {\n                    console.log(error);\n                });\n                /*投放渠道*/\n                this.$http({\n                    method: 'get',\n                    url: this.apiUrl.channelSearch,\n                    params: {\n                        offset: 1,\n                        limit: 9999,\n                        val: '',\n                    }\n                }).then(res => {\n                    if (res.status == 200) {\n                        var data = res.data;\n                        data.items.length > 0 ? this.channel_items.options = data.items : null;\n                    } else {\n//                        console.log('');\n                    }\n                }).catch(error => {\n                    console.log(error);\n                });\n            },\n            proInfo() {\n                /*产品*/\n                this.$http({\n                    method: 'get',\n                    url: this.apiUrl.customerProListLight,\n                    params: {\n                        customerCode: this.channelPro_from.customerCode,\n                    }\n                }).then(res => {\n                    if (res.status == 200) {\n                        var data = res.data;\n                        this.pro_items.options = data.items;\n                        this.channelProductId != '' ? null : this.channelPro_from.productCode = '';\n                    } else {\n                    }\n                }).catch(error => {\n                    console.log(error);\n                });\n            },\n            pageInfo() {\n                this.$http({\n                    method: 'get',\n                    url: this.apiUrl.channelProGet,\n                    params: {\n                        id: this.channelProductId\n                    }\n                }).then(res => {\n                    if (res.status = 200) {\n                        this.channelPro_from = res.data;\n                        this.channelPro_from.channelStatus.forEach(item=>{\n                            item.isValueChange=false;\n                            this.lineDate.push({\n                                onLineDate:item.onLineDate,\n                                offLineDate:item.offLineDate\n                            });\n                        });\n                        this.channelPro_from.status=parseInt(this.channelPro_from.status);\n                    }\n                }).catch(err => {\n\n                });\n            },\n            channelProInfo() {\n                /*上游渠道号*/\n                this.$http({\n                    method: 'get',\n                    url: this.apiUrl.customerProSearch,\n                    params: {\n                        offset: 1,\n                        limit: 9999,\n                        type: 2,\n                        code: this.channelPro_from.productCode,\n                    }\n                }).then(res => {\n//                    console.log(res);\n                    if (res.status == 200) {\n                        var data = res.data;\n                        this.channelPro_items.options = data.items;\n                        this.channelProductId != '' ? null : this.channelPro_from.customerProductCode = '';\n                    } else {\n//                        console.log('');\n                    }\n                }).catch(error => {\n                    console.log(error);\n                });\n            },\n            cusSelect() {\n                this.proInfo();\n            },\n            proSelect() {\n                this.channelProInfo();\n            },\n            onSubmit() {\n                var pricesArr = this.channelPro_from.channelPrices;\n                var pricesLen = pricesArr.length;\n                let isexist=false;//判断是否有重复的渠道价\n                if(this.channelProductId != ''&&this.channelProductId){\n                    for (let i = 0; i < pricesLen; i++) {\n                        if ((pricesArr[i].date == '' || pricesArr[i].price == ''||!pricesArr[i].date)&&!pricesArr[i].deleted){\n                            this.$message({\n                                type: 'info',\n                                message: '渠道价不能为空，请修改并重新提交'\n                            });\n                            return false;\n                        }\n                        if(pricesArr[i].disexist){\n                            isexist=true;\n                        }\n                    }\n                }else{\n                    for (let i = 0; i < pricesLen; i++) {\n                        if (pricesArr[i].date == '' || pricesArr[i].price == ''||!pricesArr[i].date) {\n                            pricesArr.splice(i, 1);\n                            i--;\n                            pricesLen = pricesArr.length;\n                        }else if(pricesArr[i].disexist){\n                            isexist=true;\n                        }\n                    }\n                    if (pricesLen == 0) {\n                        this.addPrice();\n                    }\n                }\n                if(isexist){\n                    this.$message({\n                        type: 'info',\n                        message: '存在重复的渠道价，请修改或删除并重新提交'\n                    });\n                    return false;\n                }\n//                this.channelPro_from.channelStatus.forEach((item,index)=>{\n//                    item.onLineDate=item.onLineDate||'1970-01-01';\n//                    item.offLineDate=item.offLineDate||'9999-12-31';\n//                });\n                let cStatus=this.channelPro_from.channelStatus;\n                let cLen=cStatus.length;\n                while(cLen--){\n                    if(!cStatus[cLen].onLineDate&&!cStatus[cLen].offLineDate){\n                        cStatus.splice(cLen,1);\n                    }else{\n                        cStatus[cLen].onLineDate=cStatus[cLen].onLineDate||'1970-01-01';\n                        cStatus[cLen].offLineDate=cStatus[cLen].offLineDate||'9999-12-31';\n                        if(cStatus[cLen].onLineDate>=cStatus[cLen].offLineDate&&!cStatus[cLen].deleted){\n                            this.$message({\n                                type: 'info',\n                                message: '上线时间不能大于或等于下线时间，请修改并重新提交'\n                            });\n                            return false;\n                        }\n                    }\n                }\n                cLen=cStatus.length;\n                if(cLen==0){\n                    this.addStatus();\n                    this.$message({\n                        type: 'info',\n                        message: '上下线时间不能为空，请修改并重新提交'\n                    });\n                    return false;\n                }\n//                console.log(this.channelPro_from);\n//                return false;\n                var url = this.apiUrl.channelProNew;\n                if (this.channelProductId != '') {\n                    url = this.apiUrl.channelProUpdate;\n                }\n                for(let key in this.channelPro_from){\n                    if(key!='channelPrices'&&key!='status'&&this.channelPro_from[key]==''){\n                        this.$message({\n                            type: 'info',\n                            message: '名称、渠道号、渠道为空或数据异常，请重新选择并提交'\n                        });\n                        return false;\n                    }\n                }\n                this.$http({\n                    method: 'post',\n                    url: url,\n                    data: this.channelPro_from,\n                }).then(res => {\n                    if (res.status == 200) {\n                        var data = res.data;\n                        if (data.status == 2||data.status < 0) {\n                            this.importTitleTxt=data.msg.replace(/\\|/g,'<br>');\n                            this.importTitleStatus=true;\n                        } else{\n                            this.$message({\n                                type: 'success',\n                                message: '操作成功'\n                            });\n                            this.go_back();\n                        }\n                    } else {\n                        this.$message({\n                            type: 'error',\n                            message: '操作失败，请完善信息，并重新提交'\n                        });\n                    }\n                }).catch(error => {\n                    console.log(error);\n                    this.$message({\n                        type: 'error',\n                        message: '请完善信息，并重新提交'\n                    });\n                });\n            },\n            go_back() {\n                this.$router.back();\n            },\n            deletePrice(index){\n                var pricesArr = this.channelPro_from.channelPrices;\n                var pricesLen = pricesArr.length;\n                let isexist=false;//判断是否有重复的接入价\n                if(this.channelProductId != ''&&this.channelProductId){\n                    for (let i = 0; i < pricesLen; i++) {\n                        if(pricesArr[i].disexist){\n                            isexist=true;\n                        }\n                    }\n                }\n                if(isexist){\n                    this.$message({\n                        type: 'info',\n                        message: '存在重复的渠道价，请修改后再进行删除'\n                    });\n                    return false;\n                }\n                this.channelPro_from.channelPrices[index].deleted=true;\n                this.channelPro_from.channelPrices[index].disexist=false;\n            },\n            deleteStatus(index){\n                this.channelPro_from.channelStatus[index].deleted=true;\n            },\n            addPrice() {\n                this.channelPro_from.channelPrices.push({\n                    'date': '',\n                    'deleted': false,\n                    'disable': false,\n                    'disexist': false,\n                    'price': ''\n                });\n            },\n            addStatus() {\n                this.channelPro_from.channelStatus.push({\n                    'onLineDate': '',\n                    'offLineDate': '',\n                    'deleted': false,\n                    'disable': false,\n                    'isValueChange': false\n                });\n                this.lineDate.push({\n                    onLineDate:'',\n                    offLineDate:''\n                });\n            },\n            dateChange(str, index) {\n                var date = this.channelPro_from[str][index].date || '';\n                if (date != '' && date != 'undefined' && typeof date != 'undefined' && date) {\n                    this.channelPro_from[str][index].date = this.formatDateTime(new Date(date), 'y-m-d');\n                } else {\n                    this.channelPro_from[str][index].date = '';\n                }\n                if(str=='channelPrices'){\n                    this.priceInputChange(index);\n                }\n            },\n            channelStatusDateChange(str,index){\n                var date = this.channelPro_from.channelStatus[index][str] || '';\n                if (date != '' && date != 'undefined' && typeof date != 'undefined' && date) {\n                    this.channelPro_from.channelStatus[index][str] = this.formatDateTime(new Date(date), 'y-m-d');\n                } else {\n                    this.channelPro_from.channelStatus[index][str] = '';\n                }\n                if(this.dateStatus)\n                    this.lineDateChange(index);\n            },\n            lineDateChange(index){\n                let oldDate=this.lineDate[index];\n                let newDate=this.channelPro_from.channelStatus[index];\n                if(oldDate.onLineDate==newDate.onLineDate&&oldDate.offLineDate==newDate.offLineDate){\n                    newDate.isValueChange=false;\n                }else{\n                    newDate.isValueChange=true;\n                }\n            },\n            priceInputChange(index){\n                let priceArr=this.channelPro_from.channelPrices;\n                let obj=this.channelPro_from.channelPrices[index];\n                if(obj.price&&obj.date){\n                    try{\n                        priceArr.forEach((item,i)=>{\n                            if(i!=index&&item.date==obj.date&&item.price&&!item.deleted){\n                                obj.disexist=true;\n                                foreach.break=new Error(\"StopIteration\");\n                            }else if(i!=index&&item.date!=obj.date&&item.price&&!item.deleted){\n                                obj.disexist=false;\n                            }\n                        });\n                    }catch (e){\n//                        console.log(e.message);\n                        if(e.message===\"foreach is not defined\") {\n//                            console.log(\"跳出来了?\");\n                            return;\n                        }else throw e;\n                    }\n                }else{\n                    priceArr.forEach((item,i)=>{\n                        if(item.disexist&&item.date&&item.price){\n                            let flag=true;\n//                            console.log(item);\n                            priceArr.forEach((c,x)=>{\n                                if(i!=x&&item.date==c.date&&c.price){\n                                    flag=false;\n                                }\n                            });\n//                            console.log(flag);\n                            flag?item.disexist=false:null;\n                        }else{\n                            item.disexist=false;\n                        }\n                    });\n                }\n            },\n            exitImportTitle() {\n                this.importTitleStatus = false;\n            },\n        }\n    };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/cpaDataMana/channelProNew.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"page_create channelProNew\"},[_c('div',{staticClass:\"menuNav\"},[_c('p',[_c('i',{staticClass:\"nav_index\"}),_vm._l((_vm.menu_nav),function(c,i){return _c('span',{key:i},[_c('i',{staticClass:\"el-icon-arrow-right\"}),_c('em',[_vm._v(_vm._s(c))])])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"page_d_title\"},[_c('i'),_c('span',[_vm._v(_vm._s(_vm.pageTitle))])]),_vm._v(\" \"),_c('div',{staticClass:\"page_d_con\"},[_c('div',{staticClass:\"page_d_con_left cpa_page_left\",class:{page_d_con_left_widthAll:!_vm.isRightBox}},[_c('div',{staticClass:\"banner_part_line page_create_set_line\"},[_vm._v(\"产品信息\")]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.channelPro_from,\"label-width\":\"125px\"}},[_c('el-form-item',{attrs:{\"label\":\"客户名称：\"}},[_c('el-select',{staticClass:\"f_select1\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\",\"disabled\":_vm.dateStatus},on:{\"change\":_vm.cusSelect},model:{value:(_vm.channelPro_from.customerCode),callback:function ($$v) {_vm.$set(_vm.channelPro_from, \"customerCode\", $$v)},expression:\"channelPro_from.customerCode\"}},_vm._l((_vm.customer_items.options),function(item,index){return _c('el-option',{key:item.customerCode,attrs:{\"label\":item.name,\"value\":item.customerCode}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"产品名称：\"}},[_c('el-select',{staticClass:\"f_select1\",attrs:{\"placeholder\":\"请选择\",\"disabled\":_vm.dateStatus},on:{\"change\":_vm.proSelect},model:{value:(_vm.channelPro_from.productCode),callback:function ($$v) {_vm.$set(_vm.channelPro_from, \"productCode\", $$v)},expression:\"channelPro_from.productCode\"}},_vm._l((_vm.pro_items.options),function(item,index){return _c('el-option',{key:item.id,attrs:{\"label\":item.productName,\"value\":item.customerProductCode}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上游渠道号：\"}},[_c('el-select',{staticClass:\"f_select1\",attrs:{\"placeholder\":\"请选择\",\"disabled\":_vm.dateStatus,\"filterable\":\"\"},on:{\"change\":function($event){}},model:{value:(_vm.channelPro_from.customerProductCode),callback:function ($$v) {_vm.$set(_vm.channelPro_from, \"customerProductCode\", $$v)},expression:\"channelPro_from.customerProductCode\"}},_vm._l((_vm.channelPro_items.options),function(item,index){return _c('el-option',{key:item.productPackageCode,attrs:{\"label\":item.productChannelCode,\"value\":item.productPackageCode,\"disabled\":item.packageStatus==1}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"投放渠道：\"}},[_c('el-select',{staticClass:\"f_select1\",attrs:{\"placeholder\":\"请选择\",\"disabled\":_vm.dateStatus,\"filterable\":\"\"},model:{value:(_vm.channelPro_from.channelCode),callback:function ($$v) {_vm.$set(_vm.channelPro_from, \"channelCode\", $$v)},expression:\"channelPro_from.channelCode\"}},_vm._l((_vm.channel_items.options),function(item,index){return _c('el-option',{key:item.channelCode,attrs:{\"label\":item.channelCode+' '+item.name,\"value\":item.channelCode}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"height\":\"auto\"},attrs:{\"label\":\"渠道价：\"}},[_vm._l((_vm.channelPro_from.channelPrices),function(item,index){return (!item.deleted)?_c('div',{key:item.id},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"disabled\":false},on:{\"change\":function($event){_vm.dateChange('channelPrices',index)}},model:{value:(item.date),callback:function ($$v) {_vm.$set(item, \"date\", $$v)},expression:\"item.date\"}}),_vm._v(\" \"),_c('el-input',{staticClass:\"el_input_short\",attrs:{\"disabled\":false,\"placeholder\":\"请输入渠道价\"},on:{\"change\":function($event){_vm.priceInputChange(index)}},model:{value:(item.price),callback:function ($$v) {_vm.$set(item, \"price\", $$v)},expression:\"item.price\"}}),_vm._v(\"\\n                                元\\n                                \"),(_vm.dateStatus)?_c('span',{staticClass:\"r_span\",staticStyle:{\"font-size\":\"16px\"},on:{\"click\":function($event){_vm.deletePrice(index)}}},[_vm._v(\"删除\")]):_vm._e(),_vm._v(\" \"),(item.disexist)?_c('span',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"10px\",\"color\":\"red\"}},[_vm._v(\"* 已存在\")]):_vm._e()],1):_vm._e()}),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.addPrice}},[_vm._v(\"添加一行\")])],2),_vm._v(\" \"),_vm._l((_vm.channelPro_from.channelStatus),function(item,index){return (!item.deleted)?_c('div',{key:item.id},[_c('el-form-item',{staticStyle:{\"height\":\"auto\",\"display\":\"inline-block\"},attrs:{\"label\":\"上线时间:\"}},[_c('div',[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"disabled\":item.disable},on:{\"change\":function($event){_vm.channelStatusDateChange('onLineDate',index)}},model:{value:(item.onLineDate),callback:function ($$v) {_vm.$set(item, \"onLineDate\", $$v)},expression:\"item.onLineDate\"}})],1)]),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"height\":\"auto\",\"display\":\"inline-block\"},attrs:{\"label\":\"下线时间:\"}},[_c('div',[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"disabled\":item.disable},on:{\"change\":function($event){_vm.channelStatusDateChange('offLineDate',index)}},model:{value:(item.offLineDate),callback:function ($$v) {_vm.$set(item, \"offLineDate\", $$v)},expression:\"item.offLineDate\"}})],1)]),_vm._v(\" \"),(_vm.dateStatus)?_c('span',{staticClass:\"r_span\",staticStyle:{\"font-size\":\"16px\"},on:{\"click\":function($event){_vm.deleteStatus(index)}}},[_vm._v(\"删除\")]):_vm._e()],1):_vm._e()}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin\":\"0 0 6px 125px\"},on:{\"click\":_vm.addStatus}},[_vm._v(\"添加一行\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否封包：\"}},[_c('el-radio-group',{staticClass:\"f_radio2 f_radio\",model:{value:(_vm.channelPro_from.status),callback:function ($$v) {_vm.$set(_vm.channelPro_from, \"status\", $$v)},expression:\"channelPro_from.status\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"form_button\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"确认\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.go_back()}}},[_vm._v(\"返回\")])],1)],2)],1),_vm._v(\" \"),(_vm.isRightBox)?_c('div',{staticClass:\"page_d_con_right cpa_page_right\"},[_c('div',{staticClass:\"page_d_current page_create_current\"},[_c('div',{staticClass:\"current_page_title create_page_title\"},[_vm._v(\"操作历史记录\")]),_vm._v(\" \"),_c('div',{staticClass:\"current_img\"},_vm._l((4),function(o){return _c('div',{key:o,staticClass:\"text item\"},[_vm._v(\"\\n                                \"+_vm._s('列表内容 ' + o)+\"\\n                            \")])}))])]):_vm._e()]),_vm._v(\" \"),(_vm.importTitleStatus)?_c('div',{staticClass:\"importTitle\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"importTitle_top\"},[_c('span',[_vm._v(\"提示\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.exitImportTitle($event)}}},[_vm._v(\"×\")])]),_vm._v(\" \"),_c('div',{staticClass:\"importTitleTxt\",domProps:{\"innerHTML\":_vm._s(_vm.importTitleTxt)}})]):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-537ca6db\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/cpaDataMana/channelProNew.vue\n// module id = lNXX\n// module chunks = 62","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-537ca6db\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./channelProNew.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./channelProNew.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./channelProNew.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-537ca6db\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./channelProNew.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/cpaDataMana/channelProNew.vue\n// module id = vNZF\n// module chunks = 62"],"sourceRoot":""}