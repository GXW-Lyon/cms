webpackJsonp([14],{"3mu+":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"page_create sysConfig"},[e._m(0),e._v(" "),a("div",{staticClass:"page_d_con"},[a("div",{staticClass:"page_d_con_left"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabs,function(e,t){return a("el-tab-pane",{key:t,attrs:{label:e.label,name:e.name}})})),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.config,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"屏蔽城市："}},[a("el-select",{staticClass:"f_select3",attrs:{multiple:"",placeholder:"请选择"},model:{value:e.areaList.commonAreas,callback:function(t){e.$set(e.areaList,"commonAreas",t)},expression:"areaList.commonAreas"}},e._l(e.config.areaConfig.commonAreas,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),e._v(" "),a("el-input",{staticClass:"week",attrs:{placeholder:"输入省/城市"},model:{value:e.addCity.commonAreas,callback:function(t){e.$set(e.addCity,"commonAreas",t)},expression:"addCity.commonAreas"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addCityFun(e.addCity.commonAreas,"commonAreas")}}},[e._v("添加")])],1),e._v(" "),a("el-form-item",{staticStyle:{height:"auto"},attrs:{label:"周时间段增加屏蔽城市："}},[e._v("\n                            周 "),a("el-input",{staticClass:"week",attrs:{placeholder:"",type:"number",max:"7",min:"1"},model:{value:e.weekStart,callback:function(t){e.weekStart=t},expression:"weekStart"}}),e._v(" "),a("el-time-select",{attrs:{placeholder:"起始时间","picker-options":{start:"00:00",step:"00:30",end:"23:30"}},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}),e._v("\n                            - -\n                            周 "),a("el-input",{staticClass:"week",attrs:{placeholder:"",type:"number",max:"7",min:"1"},model:{value:e.weekEnd,callback:function(t){e.weekEnd=t},expression:"weekEnd"}}),e._v(" "),a("el-time-select",{attrs:{placeholder:"结束时间","picker-options":{start:"00:00",step:"00:30",end:"23:30"}},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}}),e._v(" "),a("el-select",{staticClass:"f_select3",attrs:{multiple:"",placeholder:"请选择"},model:{value:e.areaList.timingDateAreas,callback:function(t){e.$set(e.areaList,"timingDateAreas",t)},expression:"areaList.timingDateAreas"}},e._l(e.config.areaConfig.timingDateAreas,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),e._v(" "),a("el-input",{staticClass:"week",attrs:{placeholder:"输入省/城市"},model:{value:e.addCity.timingDateAreas,callback:function(t){e.$set(e.addCity,"timingDateAreas",t)},expression:"addCity.timingDateAreas"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addCityFun(e.addCity.timingDateAreas,"timingDateAreas")}}},[e._v("添加")])],1),e._v(" "),a("el-form-item",{attrs:{label:"日期时间段增加屏蔽城市："}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":" 至 ","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateTimeValue,callback:function(t){e.dateTimeValue=t},expression:"dateTimeValue"}})],1),e._v(" "),a("el-select",{staticClass:"f_select3",attrs:{multiple:"",placeholder:"请选择"},model:{value:e.areaList.exactDateAreas,callback:function(t){e.$set(e.areaList,"exactDateAreas",t)},expression:"areaList.exactDateAreas"}},e._l(e.config.areaConfig.exactDateAreas,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),e._v(" "),a("el-input",{staticClass:"week",attrs:{placeholder:"输入省/城市"},model:{value:e.addCity.exactDateAreas,callback:function(t){e.$set(e.addCity,"exactDateAreas",t)},expression:"addCity.exactDateAreas"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addCityFun(e.addCity.exactDateAreas,"exactDateAreas")}}},[e._v("添加")])],1),e._v(" "),a("el-form-item",{attrs:{label:"是否开启低俗功能："}},[a("el-tooltip",{attrs:{content:"该功能处于"+e.switchAlt+"状态",placement:"top"}},[a("el-switch",{attrs:{"on-color":"#13ce66","off-color":"#ff4949","on-value":e.onValue,"off-value":e.offValue},on:{change:e.switchChange},model:{value:e.config.globalSwitch,callback:function(t){e.$set(e.config,"globalSwitch",t)},expression:"config.globalSwitch"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"form_button"},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确认")])],1)],1)],1)])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page_d_title"},[a("i"),a("span",[e._v("系统配置")])])}],n={render:i,staticRenderFns:s};t.a=n},"9pot":function(e,t,a){"use strict";function i(e){a("iqa3")}Object.defineProperty(t,"__esModule",{value:!0});var s=a("eWkA"),n=a("3mu+"),l=a("vSla"),o=i,c=l(s.a,n.a,!1,o,null,null);t.default=c.exports},eWkA:function(e,t,a){"use strict";t.a={data:function(){return{tabs:[{label:"wifi",name:"0"},{label:"猎豹",name:"1"},{label:"趣头条",name:"2"},{label:"铁血军事",name:"3"},{label:"喜马拉雅",name:"4"},{label:"东方头条",name:"5"},{label:"B站",name:"6"},{label:"淘新闻",name:"7"},{label:"网易云音乐",name:"8"}],activeName:"0",switchAlt:"",addCity:{commonAreas:"",timingDateAreas:"",exactDateAreas:""},weekStart:"",weekEnd:"",startTime:"",endTime:"",weekValue:[],dateTimeValue:[new Date("2017-12-07 0:00"),new Date("2018-01-09 0:00")],config:{globalSwitch:"false",areaConfig:{commonAreas:[],timingDate:"5 07:00,1 07:00",timingDateAreas:["南京"],exactDate:"2018-10-11 07:00,2018-11-01 07:00",exactDateAreas:["成都","西安","南京"]}},configMap:{},areaList:{commonAreas:[],timingDateAreas:[],exactDateAreas:[]},onValue:"true",offValue:"false"}},activated:function(){this.pageInfo()},created:function(){},methods:{handleClick:function(e,t){this.pageInfo()},pageInfo:function(){var e=this;this.$http({method:"get",url:this.apiUrl.landpageConfigUrl,params:{platform:this.activeName}}).then(function(t){if(200==t.status){var a=t.data;e.configMap=a,e.config.globalSwitch=a.globalSwitchMap[e.activeName],e.config.areaConfig=a.areaConfigMap[e.activeName],e.configInfo()}}).catch(function(e){console.log(e)})},configInfo:function(){this.config.globalSwitch=String(this.config.globalSwitch),"true"==this.config.globalSwitch?this.switchAlt="打开":this.switchAlt="关闭",this.areaList.commonAreas=this.config.areaConfig.commonAreas,this.areaList.timingDateAreas=this.config.areaConfig.timingDateAreas,this.areaList.exactDateAreas=this.config.areaConfig.exactDateAreas;var e=this.config.areaConfig.timingDate.split(",");this.weekStart=e[0].split(" ")[0],this.weekEnd=e[1].split(" ")[0];var t=e[0].split(" ")[1],a=e[1].split(" ")[1];this.startTime=t.split(":")[0]+":"+t.split(":")[1],this.endTime=a.split(":")[0]+":"+a.split(":")[1];var i=this.config.areaConfig.exactDate.split(",");this.dateTimeValue=[new Date(i[0]),new Date(i[1])]},addCityFun:function(e,t){""!=e&&(this.config.areaConfig[t].push(e),this.addCity[t]="")},onSubmit:function(){var e=this;if(3!=sessionStorage.userType)return this.$message({type:"info",message:"您没有修改权限"}),!1;""!=this.startTime&&""!=this.endTime&&(this.config.areaConfig.timingDate=this.weekStart+" "+this.startTime+","+this.weekEnd+" "+this.endTime),this.dateTimeValue.length>0&&(this.config.areaConfig.exactDate=this.formatDateTime(this.dateTimeValue[0],"y-m-d h-m")+","+this.formatDateTime(this.dateTimeValue[1],"y-m-d h-m")),this.config.areaConfig.commonAreas=this.areaList.commonAreas,this.config.areaConfig.timingDateAreas=this.areaList.timingDateAreas,this.config.areaConfig.exactDateAreas=this.areaList.exactDateAreas,this.configMap.globalSwitchMap[this.activeName]=this.config.globalSwitch,this.configMap.areaConfigMap[this.activeName]=this.config.areaConfig,this.$confirm("此操作是对落地页的全局配置, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http({method:"post",url:e.apiUrl.landpageConfigUrl+"?platform="+e.activeName,data:e.configMap}).then(function(t){200==t.status?e.$message({type:"success",message:"更新成功"}):e.$message({type:"error",message:"更新失败"})}).catch(function(t){console.log(t),e.$message({type:"error",message:"更新失败"})})}).catch(function(){e.$message({type:"info",message:"已取消更改"})})},go_back:function(){this.$router.back()},switchChange:function(){"true"==this.config.globalSwitch?this.switchAlt="打开":this.switchAlt="关闭"}}}},iqa3:function(e,t,a){var i=a("sT7D");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("FIqI")("930c9fba",i,!0,{})},sT7D:function(e,t,a){t=e.exports=a("UTlt")(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])}});
//# sourceMappingURL=14.5cb1289223b487542960.js.map