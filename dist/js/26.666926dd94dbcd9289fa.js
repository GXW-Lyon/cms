webpackJsonp([26],{Azqn:function(t,e,o){var a=o("FrzD");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o("FIqI")("0c498646",a,!0,{})},FrzD:function(t,e,o){e=t.exports=o("UTlt")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"platformConNew.vue",sourceRoot:""}])},"H/fo":function(t,e,o){"use strict";var a=o("aA9S"),r=o.n(a),c=o("hRKE"),i=o.n(c);e.a={data:function(){return{isRightBox:!1,isabled:!1,menu_nav:["信息流数据管理","客户合同管理","创建合同信息"],dateValue:"",contract_from:{beginTime:"",contractNo:"",customerCode:"",platformCode:"",endTime:"",id:0,isOwner:1,kyhdType:"",marketingMode:"XN",productItems:[]},options:{customer:[],kyhd:[{id:"Y1",val:"深圳康远互动科技有限公司"},{id:"Y2",val:"霍尔果斯康远互动网络科技有限公司"},{id:"Y3",val:"上海贝玩网络科技有限公司"},{id:"Y4",val:"深圳自由泰格互动科技有限公司"}],product:[{placeHolder:"请选择",model_value:{},items:[]}]},customerContractId:"",pageTitle:"创建合同信息"}},created:function(){this.customerSelect()},methods:{customerSelect:function(){var t=this;this.$http({method:"get",url:this.apiUrl.fdpPlatGetPlatFormList,params:{offset:1,limit:9999,val:""}}).then(function(e){if(200==e.status){var o=e.data;t.options.customer=o}}).catch(function(t){console.log(t)})},cusSelect:function(){this.proInfo()},proSelect:function(t,e){"object"==(void 0===e?"undefined":i()(e))&&(this.contract_from.productItems[t]||this.contract_from.productItems.push({id:"",productNo:""}),this.contract_from.productItems[t].id=e.productId,this.contract_from.productItems[t].productNo=e.productId),this.checkFrom()},addRow:function(){var t=r()({},this.options.product[0]);this.options.product.push(t)},checkFrom:function(){var t=this.contract_from;if(""!=t.platformCode&&""!=t.kyhdType&&""!=t.beginTime){var e=Math.ceil(this.datedifference(t.beginTime,t.endTime)/365),o=t.beginTime.replace(/-/g,"");1==t.isOwner?this.contract_from.contractNo=t.kyhdType+t.platformCode+"00XN"+o+e:2==this.contract_from.isOwner&&(this.contract_from.contractNo=t.platformCode+t.kyhdType+"00XN"+o+e)}else this.contract_from.contractNo=""},onSubmit:function(){var t=this,e=this.contract_from,o=this.apiUrl.fdpConNewPlatform;""!=e.platformCode&&""!=e.kyhdType&&""!=e.beginTime?this.$http({method:"post",url:o,data:this.contract_from}).then(function(e){e.data;200==e.status?(t.$message({type:"success",message:"操作成功"}),t.go_back()):t.$message({type:"error",message:"操作失败，请完善信息，并重新提交"})}).catch(function(e){t.$message({type:"error",message:"操作失败，请完善信息，并重新提交"})}):this.$message({type:"error",message:"操作失败，请完善信息，并重新提交"})},go_back:function(){this.$router.back()},dateChange:function(){var t=this.dateValue;t.length>0&&(this.contract_from.beginTime=this.formatDateTime(t[0],"y-m-d"),this.contract_from.endTime=this.formatDateTime(t[1],"y-m-d")),this.checkFrom()}}}},LQJ4:function(t,e,o){"use strict";function a(t){o("Azqn")}Object.defineProperty(e,"__esModule",{value:!0});var r=o("H/fo"),c=o("cHPN"),i=o("vSla"),s=a,n=i(r.a,c.a,!1,s,null,null);e.default=n.exports},cHPN:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"page_create customerContractNew"},[o("div",{staticClass:"menuNav"},[o("p",[o("i",{staticClass:"nav_index"}),t._l(t.menu_nav,function(e,a){return o("span",{key:a},[o("i",{staticClass:"el-icon-arrow-right"}),o("em",[t._v(t._s(e))])])})],2)]),t._v(" "),o("div",{staticClass:"page_d_title"},[o("i"),o("span",[t._v(t._s(t.pageTitle))])]),t._v(" "),o("div",{staticClass:"page_d_con"},[o("div",{staticClass:"page_d_con_left cpa_page_left",class:{page_d_con_left_widthAll:!t.isRightBox}},[o("div",{staticClass:"banner_part_line page_create_set_line"},[t._v("合同信息")]),t._v(" "),o("el-form",{ref:"form",attrs:{model:t.contract_from,"label-width":"125px"}},[o("el-form-item",{attrs:{label:"平台主体："}},[o("el-select",{staticClass:"f_select1 inlineBlock",attrs:{placeholder:"请选择",disabled:t.isabled},on:{change:t.checkFrom},model:{value:t.contract_from.platformCode,callback:function(e){t.$set(t.contract_from,"platformCode",e)},expression:"contract_from.platformCode"}},t._l(t.options.customer,function(t,e){return o("el-option",{key:t.platformCode,attrs:{label:t.platformName,value:t.platformCode}})})),t._v(" "),o("el-radio-group",{staticClass:"f_radio1 inlineBlock",on:{change:t.checkFrom},model:{value:t.contract_from.isOwner,callback:function(e){t.$set(t.contract_from,"isOwner",e)},expression:"contract_from.isOwner"}},[o("el-radio",{attrs:{label:2,disabled:t.isabled}},[t._v("甲方")])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"我方主体："}},[o("el-select",{staticClass:"f_select1 inlineBlock",attrs:{placeholder:"请选择",disabled:t.isabled},on:{change:t.checkFrom},model:{value:t.contract_from.kyhdType,callback:function(e){t.$set(t.contract_from,"kyhdType",e)},expression:"contract_from.kyhdType"}},t._l(t.options.kyhd,function(t,e){return o("el-option",{key:t.id,attrs:{label:t.val,value:t.id}})})),t._v(" "),o("el-radio-group",{staticClass:"f_radio1 inlineBlock",on:{change:t.checkFrom},model:{value:t.contract_from.isOwner,callback:function(e){t.$set(t.contract_from,"isOwner",e)},expression:"contract_from.isOwner"}},[o("el-radio",{attrs:{label:1,disabled:t.isabled}},[t._v("甲方")])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"合同有效日期："}},[o("el-date-picker",{attrs:{type:"daterange",align:"right",placeholder:"选择日期范围",format:"yyyy/MM/dd","picker-options":t.$store.state.pickerOptions2,disabled:t.isabled},on:{change:t.dateChange},model:{value:t.dateValue,callback:function(e){t.dateValue=e},expression:"dateValue"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"合同编号："}},[o("el-input",{attrs:{placeholder:"请输入合同编号",disabled:""},model:{value:t.contract_from.contractNo,callback:function(e){t.$set(t.contract_from,"contractNo",e)},expression:"contract_from.contractNo"}})],1),t._v(" "),o("el-form-item",{staticClass:"form_button"},[t.isabled?t._e():o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认")]),t._v(" "),o("el-button",{on:{click:function(e){t.go_back()}}},[t._v("返回")])],1)],1)],1)])])])},r=[],c={render:a,staticRenderFns:r};e.a=c}});
//# sourceMappingURL=26.666926dd94dbcd9289fa.js.map