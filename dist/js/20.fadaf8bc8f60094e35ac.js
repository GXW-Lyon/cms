webpackJsonp([20],{PJXb:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"info_flow_content",on:{click:e.bodyEvent}},[a("div",{staticClass:"menuNav"},[a("p",[a("i",{staticClass:"nav_index"}),e._l(e.menu_nav,function(t,i){return a("span",{key:i},[a("i",{staticClass:"el-icon-arrow-right"}),a("em",[e._v(e._s(t))])])})],2)]),e._v(" "),a("div",{staticClass:"info_ad_search"},[a("div",{staticClass:"info_a_s_content"},[a("div",{staticClass:"realTimeCitySearch"},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[e._v("选择日期")]),e._v(" "),a("el-date-picker",{staticClass:"iosDate",attrs:{type:"daterange",align:"right",placeholder:"选择日期范围",format:"yyyy / MM / dd","picker-options":e.$store.state.pickerOptions2},on:{change:e.dateChange},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}})],1),e._v(" "),a("el-select",{staticClass:"con_select unBorderRadius",attrs:{placeholder:e.customer_items.placeHolder},model:{value:e.customer_items.model_value,callback:function(t){e.$set(e.customer_items,"model_value",t)},expression:"customer_items.model_value"}},e._l(e.customer_items.options,function(e,t,i){return a("el-option",{key:i,attrs:{label:e,value:t}})})),e._v(" "),a("el-select",{staticClass:"con_select unBorderRadius",attrs:{placeholder:e.pro_items.placeHolder},model:{value:e.pro_items.model_value,callback:function(t){e.$set(e.pro_items,"model_value",t)},expression:"pro_items.model_value"}},e._l(e.pro_items.options,function(e,t,i){return a("el-option",{key:i,attrs:{label:e,value:t}})})),e._v(" "),a("el-select",{staticClass:"con_select unBorderRadius",attrs:{placeholder:e.channel_items.placeHolder},model:{value:e.channel_items.model_value,callback:function(t){e.$set(e.channel_items,"model_value",t)},expression:"channel_items.model_value"}},e._l(e.channel_items.options,function(e,t,i){return a("el-option",{key:i,attrs:{label:e,value:t}})})),e._v(" "),a("el-button",{staticClass:"page_d_s_button",staticStyle:{"margin-right":"15px"},on:{click:function(t){t.stopPropagation(),e.submit("search")}}},[e._v("\n                            查询\n                        ")]),e._v(" "),a("el-button",{staticClass:"page_d_s_button",staticStyle:{"margin-right":"15px"},on:{click:function(t){return t.stopPropagation(),e.importData(t)}}},[e._v("导出数据\n                        ")])],1),e._v(" "),a("div",{staticClass:"dateSelect"},[a("div",{staticClass:"block"},[a("el-input",{staticClass:"page_d_select",attrs:{placeholder:"请输入IDFA"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.submit("find")}},model:{value:e.idfa,callback:function(t){e.idfa=t},expression:"idfa"}}),e._v(" "),a("el-button",{staticClass:"page_d_s_button",staticStyle:{"margin-left":"40px"},on:{click:function(t){e.submit("find")}}},[e._v("搜索\n                            ")])],1)])])]),e._v(" "),a("div",{staticClass:"info_ad_table"},[a("div",{staticClass:"page_d_title"},[a("i",{staticStyle:{visibility:"hidden"}}),a("span"),e._v(" "),a("div",{staticClass:"tableVisibleMenu"},[a("p",{staticClass:"visibleMenuBut",on:{click:function(t){e.changeCheckStatus(t)}}}),e._v(" "),e.visibleMenuSelectStatus?a("div",{staticClass:"visibleMenuSelect",on:{click:function(t){e.preventDefault(t)}}},[a("el-checkbox-group",{attrs:{min:1},on:{change:e.checkedChange},model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.cities,function(t){return a("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])}))],1):e._e()])]),e._v(" "),a("div",{staticClass:"tableDetail"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中",data:e.tableData,border:"",stripe:""}},e._l(e.table_column,function(t,i){return t.visible?a("el-table-column",{key:i,attrs:{fixed:t.fixed,sortable:t.sortable,prop:t.prop,label:t.label,formatter:t.format,width:"","min-width":"100"}}):e._e()}))],1)]),e._v(" "),a("div",{staticClass:"con_pager"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":e.page.sizes,"page-size":e.page.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.page.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.page,"currentPage",t)}}})],1)])])])},s=[],l={render:i,staticRenderFns:s};t.a=l},kuHs:function(e,t,a){var i=a("tPkX");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("FIqI")("5c3f9a47",i,!0,{})},kypO:function(e,t,a){"use strict";var i=a("HzJ8"),s=a.n(i);t.a={data:function(){return{loading:!1,visibleMenuSelectStatus:!1,checkedCities:["渠道","产品","类型","日期时间","ID","MAC"],cities:["渠道","产品","类型","日期时间","ID","MAC"],citiesFilterVal:["mediaName","appName","type","date","idfa","mac"],table_column:[{fixed:!0,prop:"mediaName",label:"渠道",sortable:!0,visible:!0},{fixed:!1,prop:"appName",label:"产品",sortable:!1,visible:!0},{fixed:!1,prop:"type",label:"类型",sortable:!1,visible:!0},{fixed:!1,prop:"date",label:"日期时间",sortable:!1,visible:!0},{fixed:!1,prop:"idfa",label:"ID",sortable:!1,visible:!0},{fixed:!1,prop:"mac",label:"MAC",sortable:!1,visible:!0}],page:{sizes:[50,100,500,1e3],offset:1,limit:50,count:0,currentPage:1},menu_nav:["IOS数据管理","详细数据"],customer_items:{model_value:"",placeHolder:"广告主产品",options:[]},pro_items:{model_value:"",placeHolder:"产品",options:[]},channel_items:{model_value:"",placeHolder:"渠道",options:[]},tableData:[],dateValue:"",idfa:"",params:{type:"",val:"",startDate:"",endDate:""},paramsData:{},requestUrl:"",isFirstEnter:!1}},activated:function(){this.$route.meta.isBack&&!this.isFirstEnter||this.selectInfo(),this.$route.meta.isBack=!1,this.isFirstEnter=!1},created:function(){this.isFirstEnter=!0},methods:{selectInfo:function(){var e=this;this.$http({method:"get",url:this.apiUrl.reportIdName}).then(function(t){if(200==t.status){var a=t.data;e.customer_items.options=e.objPush(a.adver),e.pro_items.options=e.objPush(a.appid),e.channel_items.options=e.objPush(a.media)}}).catch(function(e){console.log(e)})},pageInfo:function(){var e=this;this.loading=!0,this.$http({method:"get",url:this.requestUrl,params:this.paramsData}).then(function(t){e.loading=!1;var a=t.data;0==a.status?(e.page.count=a.total,e.tableData=a.result):(e.tableData=[],e.$message({type:"error",message:a.msg}))}).catch(function(t){e.loading=!1,console.log(t),e.tableData=[]})},handleCurrentChange:function(e){this.page.offset=this.paramsData.page=e,this.pageInfo()},handleSizeChange:function(e){this.page.limit=this.paramsData.limit=e,this.pageInfo()},checkedChange:function(){var e=!0,t=!1,a=void 0;try{for(var i,l=s()(this.table_column);!(e=(i=l.next()).done);e=!0){var n=i.value,o=this.checkedCities.indexOf(n.label);n.visible=o>=0}}catch(e){t=!0,a=e}finally{try{!e&&l.return&&l.return()}finally{if(t)throw a}}},changeCheckStatus:function(e){e.stopPropagation(),this.visibleMenuSelectStatus=!this.visibleMenuSelectStatus},bodyEvent:function(){this.visibleMenuSelectStatus=!1},preventDefault:function(e){e.stopPropagation()},exitEvent:function(e){this.$router.push({path:"customerContractNew",query:{customerContractId:e}})},dateChange:function(){this.params.startDate=this.formatDateTime(this.dateValue[0],"y-m-d"),this.params.endDate=this.formatDateTime(this.dateValue[1],"y-m-d")},importData:function(){if(0==this.tableData.length)return this.$message({type:"info",message:"请查询数据"}),!1;var e=this.cities,t=this.citiesFilterVal,a=this.tableData,i=[this.params.startDate,this.params.endDate,"详细数据"].join("_");this.handleDownload(e,t,a,i)},submit:function(e){if("search"==e){if(""==this.params.startDate||""==this.params.endDate)return this.$message({type:"info",message:"请选择时间"}),!1;this.paramsData={page:this.page.offset,limit:this.page.limit,bdate:this.params.startDate,edate:this.params.endDate,adver:this.customer_items.model_value,media:this.channel_items.model_value,appid:this.pro_items.model_value},this.requestUrl=this.apiUrl.reportDetail}else{if(""==this.idfa)return this.$message({type:"info",message:"请输入IDFA"}),!1;this.page.offset=1,this.paramsData={page:this.page.offset,limit:this.page.limit,idfa:this.idfa},this.requestUrl=this.apiUrl.reportDetailIdfa}this.pageInfo()}}}},nBQf:function(e,t,a){"use strict";function i(e){a("kuHs")}Object.defineProperty(t,"__esModule",{value:!0});var s=a("kypO"),l=a("PJXb"),n=a("vSla"),o=i,r=n(s.a,l.a,!1,o,null,null);t.default=r.exports},tPkX:function(e,t,a){t=e.exports=a("UTlt")(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"detailData.vue",sourceRoot:""}])}});
//# sourceMappingURL=20.fadaf8bc8f60094e35ac.js.map